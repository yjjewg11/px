/**
 * 公用模板
 *1我的头像,2:菜谱
* w_uploadImg.open(callbackFN,type);
* w_uploadImg.base64='data:image/png;base64,iVBORw0KG...'

 * 保存通用方法
 * 
 * 表单格式
var opt={
	 formName:"editClassnewsForm",
	 formObject:null,
	 url:hostUrl + "rest/classnewsreply/save.json",
	 cbFN:null,
	 }
	 G_ajax_abs_save(opt);
	 对象格式
	 var opt={
	 jsonString:'{"key":"val"}',
	 url:hostUrl + "rest/classnewsreply/save.json",
	 cbFN:null,
	 }
	 G_ajax_abs_save(opt);
	 
	 opt.jsonString等于空的时候执行一次opt.jsonString=JSON.stringify(formObject);我们自己去取一次formName表单;
 */function G_ajax_abs_save(a){$.AMUI.progress.start();a.jsonString||(formObject=$("#"+a.formName).serializeJson(),a.jsonString=JSON.stringify(formObject));var b=!0;!1===a.async&&(b=a.async);$.ajax({type:"POST",url:a.url,processData:!1,data:a.jsonString,dataType:"json",contentType:!1,async:b,success:function(b){$.AMUI.progress.done();"success"==b.ResMsg.status?a.cbFN?a.cbFN(b):(G_msg_pop(b.ResMsg.message),Queue.doBackFN()):alert(b.ResMsg.message)},error:G_ajax_error_fn})}function G_ajax_shouc_save(a){$.AMUI.progress.start();a.jsonString||(formObject=$("#"+a.formName).serializeJson(),a.jsonString=JSON.stringify(formObject));var b=!0;!1===a.async&&(b=a.async);$.ajax({type:"POST",url:a.url,processData:!1,data:a.jsonString,dataType:"json",contentType:!1,async:b,success:function(b){$.AMUI.progress.done();"success"==b.ResMsg.status?a.cbFN?a.cbFN(b):G_msg_pop(b.ResMsg.message):alert(b.ResMsg.message)},error:G_ajax_error_fn})}w_img_upload_nocut={div_id:"div_widget_chooseUser",div_body:"div_body",cropper:null,callbackFN:null,type:4,base64:null,bind_onchange:function(a,b){w_img_upload_nocut.callbackFN=b;G_CallPhoneFN.isPhoneApp()?$(a).bind("click",function(){G_CallPhoneFN.selectImgPic()}):$(a).bind("change",function(){lrz(this.files[0],{before:function(){console.log("\u538b\u7f29\u5f00\u59cb")},fail:function(a){console.error(a)},always:function(){console.log("\u538b\u7f29\u7ed3\u675f")},done:function(a){console.log(a);a&&a.base64&&w_img_upload_nocut.ajax_uploadByphone(a.base64)}})})},ajax_uploadByphone:function(a){$.AMUI.progress.start();$.ajax({type:"POST",url:hostUrl+"rest/uploadFile/uploadBase64.json",timeout:0,dataType:"json",data:{type:w_img_upload_nocut.type,base64:a},async:!0,success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?w_img_upload_nocut.callbackFN&&w_img_upload_nocut.callbackFN(a.imgUrl,a.data.uuid):alert(a.ResMsg.message)},error:G_ajax_error_fn})}};var w_uploadImg={div_id:"div_widget_chooseUser",div_body:"div_body",cropper:null,callbackFN:null,type:1,base64:null,ajax_uploadByphone:function(a){$.AMUI.progress.start();$.ajax({type:"POST",url:hostUrl+"rest/uploadFile/uploadBase64.json",timeout:0,dataType:"json",data:{type:w_uploadImg.type,base64:a},async:!0,success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?(w_uploadImg.callbackFN&&w_uploadImg.callbackFN(a.imgUrl,a.data.uuid),w_uploadImg.hide()):alert(a.ResMsg.message)},error:G_ajax_error_fn})},ajax_upload:function(){$.AMUI.progress.start();$.ajax({type:"POST",url:hostUrl+"rest/uploadFile/uploadBase64.json",timeout:0,dataType:"json",data:{type:w_uploadImg.type,base64:w_uploadImg.base64},async:!0,success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?(w_uploadImg.callbackFN&&w_uploadImg.callbackFN(a.imgUrl,a.data.uuid),w_uploadImg.hide()):alert(a.ResMsg.message)},error:G_ajax_error_fn})},handleClick:function(a){"cancel"==a?w_uploadImg.hide():"ok"==a&&(null==w_uploadImg.base64?alert("\u8bf7\u5148\u526a\u5207\u56fe\u7247\uff0c\u5728\u63d0\u4ea4\u3002"):w_uploadImg.ajax_upload())},open:function(a,b){b||(b=1);w_uploadImg.type=b;w_uploadImg.base64=null;w_uploadImg.callbackFN=a;G_CallPhoneFN.selectHeadPic()||w_uploadImg.show()},show:function(){React.render(React.createElement(Upload_headImg,{responsive:!0,bordered:!0,striped:!0,hover:!0,striped:!0}),document.getElementById(w_ch_user.div_id));$("#"+this.div_body).hide();$("#"+this.div_id).show()},hide:function(a){$("#"+this.div_body).show();$("#"+this.div_id).html("")}};function menu_userinfo_updatepassword_fn(){Queue.push(menu_userinfo_updatepassword_fn,"\u4fee\u6539\u5bc6\u7801");React.render(React.createElement(Div_userinfo_updatepassword,null),document.getElementById("div_body"))}function ajax_userinfo_updatepassword(){$.AMUI.progress.start();var a=$("#commonform").serializeJson();a.password!=a.password1?alert("2\u6b21\u8f93\u5165\u5bc6\u7801\u4e0d\u5339\u914d"):(delete a.password1,a.oldpassword=$.md5(a.oldpassword),a.password=$.md5(a.password),a=JSON.stringify(a),$.ajax({type:"POST",url:hostUrl+"rest/userinfo/updatepassword.json",processData:!1,data:a,dataType:"json",contentType:!1,success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?(G_msg_pop(a.ResMsg.message),Queue.doBackFN()):alert(a.ResMsg.message)},error:G_ajax_error_fn}))}function ajax_userinfo_getRole(a,b,c,d){Queue.push(function(){ajax_userinfo_getRole(a,b,c,d)},"\u6388\u6743-"+b);$.AMUI.progress.start();$.ajax({type:"GET",url:hostUrl+"rest/userinfo/getRole.json?userUuid\x3d"+a,dataType:"json",data:{groupuuid:c,userUuid:a},async:!1,success:function(c){$.AMUI.progress.done();"success"==c.ResMsg.status?React.render(React.createElement(Userinfo_getRole,{formdata:{useruuid:a,username:b},events:d,chooselist:JSON.stringify(c.list),responsive:!0,bordered:!0,striped:!0,hover:!0,striped:!0}),document.getElementById("div_body")):alert(c.ResMsg.message)},error:G_ajax_error_fn})}function ajax_userinfo_updateDisable(a,b){var c=$("#selectgroup_uuid").val();$.AMUI.progress.start();$.ajax({type:"POST",url:hostUrl+"rest/userinfo/updateDisable.json",data:{useruuids:a,disable:b},dataType:"json",success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?(G_msg_pop(a.ResMsg.message),ajax_uesrinfo_listByGroup(c)):(alert(a.ResMsg.message),G_resMsg_filter(a.ResMsg))},error:G_ajax_error_fn})}function menu_userinfo_update_fn(){Queue.push(menu_userinfo_update_fn,"\u4fee\u6539\u8d44\u6599");React.render(React.createElement(Div_userinfo_update,{formdata:Store.getUserinfo()}),document.getElementById("div_body"))}function ajax_userinfo_update(){G_ajax_abs_save({formName:"commonform",url:hostUrl+"rest/userinfo/update.json",cbFN:function(a){G_msg_pop(a.ResMsg.message);store_ajax_getUserinfo();menu_body_fn()}})}function ajax_userteacher_save(){G_ajax_abs_save({formName:"commonform",url:hostUrl+"rest/userteacher/save.json",cbFN:function(a){G_msg_pop(a.ResMsg.message);store_ajax_getUserinfo();menu_body_fn()}})}function commons_ajax_dianzan_getByNewsuuid(a){var b=[];$.AMUI.progress.start();$.ajax({type:"GET",url:hostUrl+"rest/dianzan/getByNewsuuid.json?newsuuid\x3d"+a,dataType:"json",async:!1,success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?b=a:alert("\u52a0\u8f7d\u6570\u636e\u5931\u8d25\uff1a"+a.ResMsg.message)},error:G_ajax_error_fn});return b}function common_ajax_dianzan_save(a,b,c,d){a=JSON.stringify({newsuuid:a,type:b});$.AMUI.progress.start();$.ajax({type:"POST",url:hostUrl+(c?"rest/dianzan/save.json":"rest/dianzan/delete.json"),processData:!1,data:a,dataType:"json",contentType:!1,success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?"function"==typeof d&&d(c):(alert(a.ResMsg.message),G_resMsg_filter(a.ResMsg))},error:G_ajax_error_fn})}function commons_ajax_reply_list(a,b,c,d){d||(d=Common_Classnewsreply_listshow);var e=null;c||(c=1);$.AMUI.progress.start();$.ajax({type:"GET",url:hostUrl+"rest/reply/getReplyByNewsuuid.json?newsuuid\x3d"+a+"\x26pageNo\x3d"+c,dataType:"json",async:!1,success:function(c){$.AMUI.progress.done();"success"==c.ResMsg.status?(React.render(React.createElement(d,{events:c.list,newsuuid:a,responsive:!0,bordered:!0,striped:!0,hover:!0,striped:!0}),document.getElementById(b)),e=c.list):alert(c.ResMsg.message)},error:G_ajax_error_fn});return e}function common_ajax_reply_save(a,b){b||(b="editClassnewsreplyForm");G_ajax_abs_save({formName:b,url:hostUrl+"rest/reply/save.json",cbFN:function(b){"success"==b.ResMsg.status?(G_msg_pop(b.ResMsg.message),a&&a()):(alert(b.ResMsg.message),G_resMsg_filter(b.ResMsg))}})}function commons_ajax_favorites_push(a,b,c,d){a={jsonString:JSON.stringify({title:a+"",type:b+"",reluuid:c+"",url:d+""}),url:hostUrl+"rest/favorites/save.json",cbFN:null};G_ajax_shouc_save(a)}function common_teacherDailyTask_type(a){switch(a){case 0:a="\u516c\u544a\u4fe1\u606f";break;case 1:a="\u8001\u5e08\u516c\u544a";break;case 3:a="\u7cbe\u54c1\u6587\u7ae0";break;case 4:a="\u62db\u751f\u8ba1\u5212";break;case 7:a="\u8bfe\u7a0b\u8868";break;case 6:a="\u98df\u8c31";break;case 5:a="\u7cbe\u54c1\u8bfe\u7a0b";break;case 99:a="\u73ed\u7ea7\u4e92\u52a8";break;case 11:a="\u5bb6\u957f\u901a\u8baf\u5f55";break;case 12:a="\u56ed\u957f\u4fe1\u7bb1";break;case 13:a="\u7b7e\u5230\u8bb0\u5f55";break;case 10:a="Case 10";break;default:a="\u6b64\u4fe1\u606f\u4e3a\u975e\u6cd5\u4fe1\u606f\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458\uff01",Styte.out.println("\u6b64\u4fe1\u606f\u4e3a\u975e\u6cd5\u4fe1\u606f\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458\uff01")}return a}function common_teacherDailyTask_status(a){return 0==a?{status:"\u5df2\u5b8c\u6210",className:"am-success"}:1==a?{status:"\u5f85\u5b8c\u6210",className:"am-warning"}:2==a?{status:"\u5df2\u8fc7\u671f",className:"am-danger"}:{status:"\u6709\u95ee\u9898\u7684\u72b6\u6001",className:""}}function common_check_disable(a,b){confirm("\u786e\u5b9a\u8981\u5c4f\u853d\u5417?")&&($.AMUI.progress.start(),$.ajax({type:"POST",url:hostUrl+"rest/check/disable.json",data:{type:a,uuid:b},dataType:"json",async:!0,success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?G_msg_pop("\u5c4f\u853d\u6210\u529f"):alert(a.ResMsg.message)},error:G_ajax_error_fn}))}function common_check_illegal(a,b){$.ajax({type:"POST",url:hostUrl+"rest/check/illegal.json",data:{type:a,uuid:b},dataType:"json",async:!0,success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?G_msg_pop("\u4e3e\u62a5\u6210\u529f"):alert(a.ResMsg.message)},error:G_ajax_error_fn})};