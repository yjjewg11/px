"function"!=typeof window.ajax_getUserinfo&&(window.location.href="index.html?a\x3d"+Math.random());function ajax_userinfo_login(){var a=$("#btn_login");a.button("loading");$.AMUI.progress.start();var b=$("#login_form").serializeJson();32!=b.password.length&&(b.password=$.md5(b.password));$.ajax({type:"POST",url:hostUrl+"rest/userinfo/login.json",data:b,dataType:"json",success:function(c){a.button("reset");$.AMUI.progress.done();"success"==c.ResMsg.status?(Store.clear(),setCookie("bs_loginname",b.loginname),setCookie("bs_grouptype",b.grouptype),$("#pw_checked")[0].checked?(setCookie("bs_password",b.password),setCookie("pw_checked","checked")):(setCookie("bs_password",""),setCookie("pw_checked","")),Store.setUserinfo(c.userinfo),Store.setGroup(c.list),PxRight.setUserRights(c.S_User_rights),G_CallPhoneFN.jsessionToPhone(c.JSESSIONID),setCookie("bs_grouptype",c.S_type),PxLazyM.loadJS_for(getCookie("bs_grouptype")),G_msg_pop(c.ResMsg.message)):alert(c.ResMsg.message)},error:function(b,d,e){a.button("reset");$.AMUI.progress.done();b.responseText&&b.responseText.indexOf("G_key_no_connect_server")?alert("\u6ca1\u8fde\u63a5\u4e0a\u4e92\u8054\u7f51."):alert(b.status+","+d+"\x3d"+e)}})}function ajax_studentbind_apply(a,b){confirm("\u786e\u5b9a\u8981\u7533\u8bf7\u63a5\u9001\u5361\u5417?")&&($.AMUI.progress.start(),$.ajax({type:"POST",url:hostUrl+"rest/studentbind/apply.json?studentuuid\x3d"+a,dataType:"json",async:!0,success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?(G_msg_pop(a.ResMsg.message),"function"==typeof b&&b()):alert("\u52a0\u8f7d\u6570\u636e\u5931\u8d25\uff1a"+a.ResMsg.message)},error:G_ajax_error_fn}))}function ajax_studentbind_cancelApply(a,b,c){confirm("\u786e\u5b9a\u8981\u7533\u8bf7\u63a5\u9001\u5361\u5417?")&&($.AMUI.progress.start(),$.ajax({type:"POST",url:hostUrl+"rest/studentbind/cancelApply.json",data:{studentuuid:a,userid:b},dataType:"json",async:!0,success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?(alert(a.ResMsg.message),"function"==typeof c&&c()):alert("\u52a0\u8f7d\u6570\u636e\u5931\u8d25\uff1a"+a.ResMsg.message)},error:G_ajax_error_fn}))}function menu_group_change_fn(a){Store.setCurGroup(a);login_affter_init()}var MessageTimer={create_time:null,init:!1,start:function(){G_CallPhoneFN.isPhoneApp()||this.init||(this.init=!0,MessageTimer.do_loop())},do_loop:function(){MessageTimer.pxMessageTimer()},update_create_time:function(){MessageTimer.create_time=(new Date).format("yyyy-MM-dd h:m:s");MessageTimer.upate_img_status_read()},upate_img_status_read:function(){$("[src$\x3d'i/icon-msg-you.png']").attr("src",hostUrlCDN+"i/icon-msg-wu.png")},pxMessageTimer:function(){setTimeout(MessageTimer.do_loop,3E5);$.ajax({type:"GET",url:hostUrl+"rest/pushMessage/queryMsgCount.json",data:{create_time:MessageTimer.create_time},dataType:"json",async:!1,success:function(a){"success"==a.ResMsg.status&&(a.count=0,$("[src$\x3d'i/icon-msg-wu.png']").attr("src",hostUrlCDN+"i/icon-msg-you.png"))},error:function(a,b,c){}})}};function ajax_queryMyTimely_myList(){$.AMUI.progress.start();$.ajax({type:"GET",url:hostUrl+"rest/pushMessage/queryMy.json",data:null,dataType:"json",success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?(MessageTimer.update_create_time(),React.render(React.createElement(Message_queryMyTimely_myList,{formdata:a.list}),G_get_div_body())):alert("\u52a0\u8f7d\u6570\u636e\u5931\u8d25\uff1a"+a.ResMsg.message)},error:G_ajax_error_fn})}function ajax_State_style(a,b,c,d){switch(a){case 0:react_ajax_announce_show(b,"\u516c\u544a\u4fe1\u606f");break;case 1:react_ajax_announce_show(b,"\u8001\u5e08\u516c\u544a");break;case 3:react_ajax_announce_show(b,"\u7cbe\u54c1\u6587\u7ae0");break;case 4:react_ajax_announce_show(b,"\u62db\u751f\u8ba1\u5212");break;case 7:menu_teachingplan_dayShow_fn();break;case 6:1==d?ajax_cookbookPlan_dayShow(null,b):ajax_cookbookPlan_listByGroup_byRight(c);break;case 5:Console.WriteLine("Case 7");break;case 99:ajax_msg_div(b);break;case 11:ajax_parentContactByMyStudent_message_list(b,"\u5bb6\u957f\u901a\u8baf");break;case 12:ajax_boss_message_list_byRight(c,b);break;case 13:menu_class_sign_today_fn();break;case 10:Console.WriteLine("Case 10");break;default:Styte.out.println("\u6b64\u4fe1\u606f\u4e3a\u975e\u6cd5\u4fe1\u606f\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458\uff01")}}function ajax_msg_div(a){$.AMUI.progress.start();var b=Store.getMyClassList();$.ajax({type:"GET",data:{uuid:a},url:hostUrl+"rest/classnews/getAllGroupNews.json",dataType:"json",async:!0,success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?React.render(React.createElement(Classnews_EventsTable,{events:a.list,class_list:G_selected_dataModelArray_byArray(b,"uuid","name"),handleClick:btn_click_classnews}),G_get_div_second()):alert("\u52a0\u8f7d\u6570\u636e\u5931\u8d25\uff1a"+a.ResMsg.message)},error:G_ajax_error_fn})}function react_ajax_class_students_manage(a){$.AMUI.progress.start();var b=null,c=hostUrl+"rest/class/"+a+".json";$.ajax({type:"GET",url:c,dataType:"json",async:!1,success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?b=a.data:alert("\u52a0\u8f7d\u6570\u636e\u5931\u8d25\uff1a"+a.ResMsg.message)},error:G_ajax_error_fn});c=hostUrl+"rest/student/getStudentByClassuuid.json?classuuid\x3d"+a;$.ajax({type:"GET",url:c,dataType:"json",async:!1,success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?(students=a.list,stutent_num=a.list.length):alert("\u52a0\u8f7d\u6570\u636e\u5931\u8d25\uff1a"+a.ResMsg.message)},error:G_ajax_error_fn});Queue.push(function(){react_ajax_class_students_manage(a)},"\u6211\u7684\u73ed\u7ea7");React.render(React.createElement(Class_students_show,{students:students,formdata:b,classList:G_selected_dataModelArray_byArray(Store.getMyClassList(),"uuid","name"),classuuid:a,stutent_num:stutent_num,students:students}),G_get_div_body())}function btn_click_class_list(a,b,c){if("addstudent"==a)c?(Queue.push(function(){btn_click_class_list(a,b,c)},"\u65b0\u589e\u5b66\u751f"),add_studentsByData({classuuid:c,sex:0})):G_msg_pop("\u8bf7\u5148\u521b\u5efa\u73ed\u7ea7!");else if("edit_class"==a)c?-1<c.indexOf(",")?alert("\u53ea\u80fd\u9009\u62e9\u4e00\u4e2a\u73ed\u7ea7\u8fdb\u884c\u7f16\u8f91\uff01"):(Queue.push(function(){btn_click_class_list(a,b,c)},"\u7f16\u8f91\u73ed\u7ea7"),react_ajax_class_edit_get({groupuuid:b},c)):G_msg_pop("\u8bf7\u5148\u521b\u5efa\u73ed\u7ea7!");else if("delete"==a)c?-1<c.indexOf(",")?alert("\u53ea\u80fd\u9009\u62e9\u4e00\u4e2a\u73ed\u7ea7\u8fdb\u884c\u5220\u9664\uff01"):ajax_class_delete_byRight(c):G_msg_pop("\u8bf7\u5148\u521b\u5efa\u73ed\u7ea7!");else{if(!b){var d=Store.getGroup();if(!d||0==d.length){G_msg_pop("\u6ca1\u6709\u6240\u5c5e\u5b66\u6821,\u4e0d\u80fd\u521b\u5efa\u73ed\u7ea7!");return}b=d[0].uuid}Queue.push(function(){btn_click_class_list(a,b,c)},"\u65b0\u589e\u73ed\u7ea7");react_ajax_class_edit_get({groupuuid:b},null)}}function ajax_class_delete_byRight(a){confirm("\u786e\u5b9a\u8981\u5220\u9664\u5417?")&&($.AMUI.progress.start(),$.ajax({type:"POST",url:hostUrl+"rest/class/delete.json?uuid\x3d"+a,dataType:"json",async:!0,success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?(G_msg_pop(a.ResMsg.message),Store.clearChooseClass(),Store.setMyClassList(null),Queue.doBackFN()):alert(a.ResMsg.message)},error:G_ajax_error_fn}))}function add_studentsByData(a){React.render(React.createElement(Mycalss_student_edit,{formdata:a}),G_get_div_body())}function btn_ajax_myclass_student_save(){var a=$("#editClassStudentForm").serializeJson();a.birthday=G_Check.formateDate(a.birthday);a.birthday&&!G_Check.date1(a.birthday)?(G_msg_pop("\u51fa\u751f\u65e5\u671f\u683c\u5f0f\u4e0d\u6b63\u786e,\u683c\u5f0f\u4e3a:YYYY-MM-DD"),$("input[name\x3d'birthday']").focus()):($("input[name\x3d'birthday']").val(a.birthday),G_ajax_abs_save({formName:"editClassStudentForm",url:hostUrl+"rest/student/save.json",cbFN:function(b){G_msg_pop(b.ResMsg.message);Store.setClassStudentsList(b.uuid,null);react_ajax_class_students_manage(a.classuuid)}}))}function react_ajax_class_edit_get(a,b){if(b)$.AMUI.progress.start(),$.ajax({type:"GET",url:hostUrl+"rest/class/"+b+".json",dataType:"json",async:!0,success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?React.render(React.createElement(Class_edit,{formdata:a.data,group_list:G_selected_dataModelArray_byArray(Store.getGroup(),"uuid","brand_name")}),G_get_div_body()):alert("\u52a0\u8f7d\u6570\u636e\u5931\u8d25\uff1a"+a.ResMsg.message)},error:G_ajax_error_fn});else{var c=Store.getUserinfo();a.headTeacher=c.uuid;a.headTeacher_name=c.name;React.render(React.createElement(Class_edit,{formdata:a,group_list:G_selected_dataModelArray_byArray(Store.getGroup(),"uuid","brand_name")}),G_get_div_body())}}function ajax_class_save(){G_ajax_abs_save({formName:"editClassForm",url:hostUrl+"rest/class/save.json",cbFN:function(a){G_msg_pop(a.ResMsg.message);Store.setMyClassList(null);Store.clearChooseClass(null);menu_class_students_fn()}})}function ajax_class_students_look_info(a,b){Queue.push(function(){ajax_class_students_look_info(a,b)},"\u5b66\u751f\u8be6\u60c5");$.AMUI.progress.start();$.ajax({type:"GET",url:hostUrl+"rest/student/"+a+".json",dataType:"json",async:!0,success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?React.render(React.createElement(Class_student_look_info,{formdata:a.data}),G_get_div_body()):alert("\u52a0\u8f7d\u6570\u636e\u5931\u8d25\uff1a"+a.ResMsg.message)},error:G_ajax_error_fn})}function ajax_myclass_students_edit(a){Queue.push(function(){ajax_myclass_students_edit(a)},"\u7f16\u8f91\u5b66\u751f");$.AMUI.progress.start();$.ajax({type:"GET",url:hostUrl+"rest/student/"+a+".json",dataType:"json",async:!0,success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?React.render(React.createElement(Mycalss_student_edit,{formdata:a.data}),G_get_div_body()):alert("\u52a0\u8f7d\u6570\u636e\u5931\u8d25\uff1a"+a.ResMsg.message)},error:G_ajax_error_fn})}var hd_type="";function ajax_classnews_list_div(a){Queue.push(function(){ajax_classnews_list_div(a)},"\u73ed\u7ea7\u4e92\u52a8");hd_type=a;React.render(React.createElement(Classnews_Div_list,{type:hd_type}),G_get_div_body())}var g_classnews_pageNo_point=1;function ajax_classs_Mygoodlist(a,b,c,d){b||(b=1);g_classnews_pageNo_point=b;var e=Store.getMyClassList();$.AMUI.progress.start();$.ajax({type:"GET",url:1==c?hostUrl+"rest/classnews/getClassNewsByMy.json":2==c?hostUrl+"rest/classnews/getAllClassNews.json":hostUrl+"rest/classnews/getAllGroupNews.json",data:{pageNo:b},dataType:"json",success:function(b){$.AMUI.progress.done();"success"==b.ResMsg.status?(React.render(React.createElement(Classnews_EventsTable,{events:b.list,class_list:G_selected_dataModelArray_byArray(e,"uuid","name"),handleClick:btn_click_classnews,responsive:!0,bordered:!0,striped:!0,hover:!0,striped:!0}),document.getElementById(a)),"function"==typeof d&&d(b.list)):(alert(b.ResMsg.message),G_resMsg_filter(b.ResMsg))},error:G_ajax_error_fn})}function btn_click_classnews(a,b){Queue.push(function(){btn_click_classnews(a,b)},"\u53d1\u5e03\u4e92\u52a8");ajax_classnews_edit(a,b)}function ajax_classnews_edit(a,b){var c=Store.getMyClassList();c&&0!=c.length?"add"==a&&React.render(React.createElement(Classnews_edit,{formdata:b,mycalsslist:G_selected_dataModelArray_byArray(c,"uuid","name")}),G_get_div_body()):G_msg_pop("\u4f60\u6ca1\u6709\u6240\u5c5e\u73ed\u7ea7,\u4e0d\u80fd\u53d1\u5e03\u73ed\u7ea7\u4e92\u52a8.")}function ajax_classnews_save(){var a="";$(".G_cookplan_Img_img").each(function(){a+=","+$(this).attr("src")});$("#imgs").val(a);var b=$("#editClassnewsForm").serializeJson();b.imgs||b.content?G_ajax_abs_save({formName:"editClassnewsForm",url:hostUrl+"rest/classnews/save.json",cbFN:null}):G_msg_pop("\u56fe\u7247\u6216\u5185\u5bb9\u81f3\u5c11\u586b\u5199\u4e00\u9879.")}function ajax_userinfo_logout(){Queue.clear();$.AMUI.progress.start();$.ajax({type:"POST",url:hostUrl+"rest/userinfo/logout.json",data:"",dataType:"json",success:function(a){$.AMUI.progress.done();menu_userinfo_login_fn();G_CallPhoneFN.jsessionToPhone("")},error:G_ajax_error_fn})}function ajax_announce_div(){React.render(React.createElement(Announcements_Div_list),G_get_div_body())}function ajax_announce_Mylist(a,b,c){$.AMUI.progress.start();$.ajax({type:"GET",url:hostUrl+"rest/announcements/queryMy.json?pageNo\x3d"+b,data:null,dataType:"json",async:!1,success:function(b){$.AMUI.progress.done();"success"==b.ResMsg.status?(React.render(React.createElement(Announcements_mylist_div,{events:b.list,responsive:!0,bordered:!0,striped:!0,hover:!0,striped:!0}),document.getElementById(a)),"function"==typeof c&&c(b.list)):(alert(b.ResMsg.message),G_resMsg_filter(b.ResMsg))},error:G_ajax_error_fn})}function react_ajax_announce_show(a){$.AMUI.progress.start();$.ajax({type:"GET",url:hostUrl+"rest/announcements/"+a+".json",dataType:"json",async:!0,success:function(a){$.AMUI.progress.done();if("success"==a.ResMsg.status){var c=a.data;c.url&&G_CallPhoneFN.openNewWindowUrl(c.title,c.title,null,a.share_url)||(c=a.data.create_useruuid==Store.getUserinfo().uuid,React.render(React.createElement(Announcements_show,{data:a.data,count:a.count,share_url:a.share_url,canEdit:c}),G_get_div_second()))}else alert("\u52a0\u8f7d\u6570\u636e\u5931\u8d25\uff1a"+a.ResMsg.message)},error:G_ajax_error_fn})}function btnclick_announce(a,b,c){"add"==a?(Queue.push(function(){btnclick_announce(a,b,c)},"\u521b\u5efa\u6587\u7ae0"),react_ajax_announce_edit({groupuuid:b,type:3},null)):"edit"==a?(Queue.push(function(){btnclick_announce(a,b,c)},"\u7f16\u8f91\u8bdd\u9898"),react_ajax_announce_edit(null,c)):"del"==a&&react_ajax_announce_delete(b,c)}function react_ajax_announce_edit(a,b){b?($.AMUI.progress.start(),$.ajax({type:"GET",url:hostUrl+"rest/announcements/"+b+".json",dataType:"json",async:!0,success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?React.render(React.createElement(Announcements_edit,{formdata:a.data,group_list:G_selected_dataModelArray_byArray(Store.getGroup(),"uuid","brand_name")}),G_get_div_body()):alert("\u52a0\u8f7d\u6570\u636e\u5931\u8d25\uff1a"+a.ResMsg.message)},error:G_ajax_error_fn})):React.render(React.createElement(Announcements_edit,{formdata:a,group_list:G_selected_dataModelArray_byArray(Store.getGroup(),"uuid","brand_name")}),G_get_div_body())}function react_ajax_announce_delete(a,b){confirm("\u786e\u5b9a\u8981\u5220\u9664\u5417?")&&($.AMUI.progress.start(),$.ajax({type:"POST",url:hostUrl+"rest/announcements/delete.json?uuid\x3d"+b,dataType:"json",async:!0,success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?Queue.doBackFN():alert(a.ResMsg.message)},error:G_ajax_error_fn}))}function ajax_announce_save(){G_ajax_abs_save({formName:"editAnnouncementsForm",url:hostUrl+"rest/announcements/save.json",cbFN:null})}var g_teachingplan_listToShow_point=0;function ajax_teachingplan_dayShow(a,b){Queue.push(function(){ajax_teachingplan_dayShow(a,b)},"\u67e5\u770b\u8bfe\u7a0b");var c=new Date;a||(g_teachingplan_listToShow_point=a=0);g_classnews_class_list=Store.getMyClassList();var d=G_week.getDateStr(c,a);$.AMUI.progress.start();$.ajax({type:"GET",url:hostUrl+"rest/teachingplan/list.json",data:{classuuid:b.uuid,begDateStr:d,endDateStr:d},dataType:"json",success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?(null==a.list&&(a.list=[]),a=a.list[0],React.render(React.createElement(Teachingplan_showByOneDay,{ch_class:b,ch_group:Store.getCurGroup(),ch_day:d,classList:G_selected_dataModelArray_byArray(Store.getMyClassList(),"uuid","name"),formdata:a}),G_get_div_body())):(alert(a.ResMsg.message),G_resMsg_filter(a.ResMsg))},error:G_ajax_error_fn})}function btn_click_teachingplan(a,b,c,d){"add"==a&&react_ajax_teachingplan_edit({classuuid:c,plandate:d},null,"\u65b0\u589e\u8bfe\u7a0b")}function react_ajax_teachingplan_edit(a,b,c){Queue.push(function(){react_ajax_teachingplan_edit(a,b,c)},c);b?($.AMUI.progress.start(),$.ajax({type:"GET",url:hostUrl+"rest/teachingplan/"+b+".json",dataType:"json",async:!0,success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?React.render(React.createElement(Teachingplan_edit,{formdata:a.data}),G_get_div_body()):alert("\u52a0\u8f7d\u6570\u636e\u5931\u8d25\uff1a"+a.ResMsg.message)},error:G_ajax_error_fn})):a.classuuid?React.render(React.createElement(Teachingplan_edit,{formdata:a}),G_get_div_body()):G_msg_pop("\u65b0\u5efa\u8bfe\u7a0b\uff0c\u73ed\u7ea7id\u5fc5\u586b")}function ajax_teachingplan_save(){G_ajax_abs_save({formName:"editTeachingplanForm",url:hostUrl+"rest/teachingplan/save.json",cbFN:null})}var g_cookbookPlan_listToShow_point=0;function ajax_cookbookPlan_dayShow(a,b){var c=new Date;a||(g_cookbookPlan_listToShow_point=a=0);var d=Store.getGroupNoGroup_wjd();if(d&&0!=d.length){b||(b=d[0].uuid);var e=G_week.getDateStr(c,a);Queue.push(function(){ajax_cookbookPlan_dayShow(a,b)},"\u4eca\u65e5\u98df\u8c31");$.AMUI.progress.start();$.ajax({type:"GET",url:hostUrl+"rest/cookbookplan/list.json",data:{groupuuid:b,begDateStr:e,endDateStr:e},cooklist:G_selected_dataModelArray_byArray(d,"uuid","brand_name"),dataType:"json",success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?(null==a.list&&(a.list=[]),a=a.list[0],React.render(React.createElement(CookbookPlan_showByOneDay,{groupuuid:b,ch_group:G_selected_dataModelArray_byArray(d,"uuid","brand_name"),ch_day:e,formdata:a}),G_get_div_body())):(alert(a.ResMsg.message),G_resMsg_filter(a.ResMsg))},error:G_ajax_error_fn})}else G_msg_pop("\u60a8\u6ca1\u6709\u52a0\u5165\u5b66\u6821,\u6ca1\u6709\u98df\u8c31\u6570\u636e.")}function ajax_good_announce_div(){React.render(React.createElement(Announcements_good_Div_list),G_get_div_body())}function ajax_announce_Mygoodlist(a,b,c){$.AMUI.progress.start();$.ajax({type:"GET",url:hostUrl+"rest/share/articleList.json",data:{type:3,pageNo:b},dataType:"json",async:!1,success:function(b){$.AMUI.progress.done();"success"==b.ResMsg.status?(React.render(React.createElement(Announcements_mygoodlist_div,{events:b.list,responsive:!0,bordered:!0,striped:!0,hover:!0,striped:!0}),document.getElementById(a)),"function"==typeof c&&c(b.list)):(alert(b.ResMsg.message),G_resMsg_filter(b.ResMsg))},error:G_ajax_error_fn})}function react_ajax_announce_good_show(a,b){$.AMUI.progress.start();$.ajax({type:"GET",url:hostUrl+"rest/announcements/"+a+".json",dataType:"json",async:!0,success:function(a){$.AMUI.progress.done();if("success"==a.ResMsg.status){var b=a.data;b.url&&G_CallPhoneFN.openNewWindowUrl(b.title,b.title,null,a.share_url)||(b=a.data.create_useruuid==Store.getUserinfo().uuid,React.render(React.createElement(Announcements_goodshow,{canEdit:b,data:a.data,share_url:a.share_url,count:a.count}),G_get_div_second()))}else alert("\u52a0\u8f7d\u6570\u636e\u5931\u8d25\uff1a"+a.ResMsg.message)},error:G_ajax_error_fn})}function btnclick_good_announce(a,b,c){"add"==a?(Queue.push(function(){btnclick_good_announce(a,b,c)},"\u521b\u5efa\u6587\u7ae0"),react_ajax_announce_good_edit({groupuuid:b,type:3},null)):"edit"==a?(Queue.push(function(){btnclick_good_announce(a,b,c)},"\u7f16\u8f91\u6587\u7ae0"),react_ajax_announce_good_edit(null,c)):"del"==a&&react_ajax_announce_good_delete(b,c)}function react_ajax_announce_good_edit(a,b){b?($.AMUI.progress.start(),$.ajax({type:"GET",url:hostUrl+"rest/announcements/"+b+".json",dataType:"json",async:!0,success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?React.render(React.createElement(Announcements_goodedit,{formdata:a.data,group_list:G_selected_dataModelArray_byArray(Store.getGroup(),"uuid","brand_name")}),G_get_div_body()):alert("\u52a0\u8f7d\u6570\u636e\u5931\u8d25\uff1a"+a.ResMsg.message)},error:G_ajax_error_fn})):React.render(React.createElement(Announcements_goodedit,{formdata:a,group_list:G_selected_dataModelArray_byArray(Store.getGroup(),"uuid","brand_name")}),G_get_div_body())}function react_ajax_announce_good_delete(a,b){confirm("\u786e\u5b9a\u8981\u5220\u9664\u5417?")&&($.AMUI.progress.start(),$.ajax({type:"POST",url:hostUrl+"rest/announcements/delete.json?uuid\x3d"+b,dataType:"json",async:!0,success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?Queue.doBackFN():alert(a.ResMsg.message)},error:G_ajax_error_fn}))}function ajax_good_save(){G_ajax_abs_save({formName:"editAnnouncementsForm",url:hostUrl+"rest/announcements/save.json",cbFN:null})}function ajax_parentContactByMyStudent(a,b){a||(a="");b||(b="");Queue.push(function(){ajax_parentContactByMyStudent(a,b)},"\u5bb6\u957f\u901a\u8baf\u5f55");$.AMUI.progress.start();$.ajax({type:"GET",data:{student_name:a,class_uuid:b},url:hostUrl+"rest/student/parentContactByMyStudent.json",dataType:"json",async:!0,success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?React.render(React.createElement(Class_student_tel,{formdata:a.list,class_list:G_selected_dataModelArray_byArray(Store.getMyClassList(),"uuid","name")}),G_get_div_body()):alert("\u52a0\u8f7d\u6570\u636e\u5931\u8d25\uff1a"+a.ResMsg.message)},error:G_ajax_error_fn})}function ajax_parentContactByMyStudent_message_list(a,b){React.render(React.createElement(ParentContactByMyStudent_message_list,{parent_uuid:a}),G_get_div_second())}function ajax_message_queryByParent(a,b,c,d){c||(c=1);$.AMUI.progress.start();$.ajax({type:"GET",url:hostUrl+"rest/message/queryByParent.json",dataType:"json",data:{uuid:b,pageNo:c},async:!1,success:function(c){$.AMUI.progress.done();"success"==c.ResMsg.status?(React.render(React.createElement(Message_queryByParent_listpage,{events:c.list,parent_uuid:b,responsive:!0,bordered:!0,striped:!0,hover:!0,striped:!0}),document.getElementById(a)),"function"==typeof d&&d(c.list)):alert("\u52a0\u8f7d\u6570\u636e\u5931\u8d25\uff1a"+c.ResMsg.message)},error:G_ajax_error_fn})}function ajax_parent_message_save(a){G_ajax_abs_save({formName:"editForm",url:hostUrl+"rest/message/saveToParent.json",cbFN:function(b){"success"==b.ResMsg.status?a.refresh_data():(alert(b.ResMsg.message),G_resMsg_filter(b.ResMsg))}})}function ajax_parentContact_tels(a){$.AMUI.progress.start();$.ajax({type:"POST",url:hostUrl+"rest/student/inviteParents.json?tels\x3d"+a,dataType:"json",async:!0,success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?(alert(a.ResMsg.message),ajax_parentContactByMyStudent()):alert("\u52a0\u8f7d\u6570\u636e\u5931\u8d25\uff1a"+a.ResMsg.message)},error:G_ajax_error_fn})}function ajax_Teacher_tel_div(a){var b=Store.getGroupNoGroup_wjd();React.render(React.createElement(Announcements_Teacher_tel_div,{group_list:G_selected_dataModelArray_byArray(b,"uuid","brand_name"),groupuuid:a}),G_get_div_body())}function ajax_Teacher_tel_list(a,b,c,d,e){var f=Store.getGroupNoGroup_wjd();c||(c="");d||(d=1);!b&&f&&0<f.length&&(b=f[0].uuid);$.AMUI.progress.start();$.ajax({type:"GET",url:hostUrl+"rest/userinfo/listForTelByPage.json",data:{groupuuid:b,name:c,pageNo:d},dataType:"json",async:!1,success:function(b){$.AMUI.progress.done();"success"==b.ResMsg.status?(React.render(React.createElement(Teacher_info_tel,{events:b.list.data,responsive:!0,bordered:!0,striped:!0,hover:!0,striped:!0}),document.getElementById(a)),"function"==typeof e&&e(b.list)):(alert(b.ResMsg.message),G_resMsg_filter(b.ResMsg))},error:G_ajax_error_fn})}function ajax_favorites_div(){React.render(React.createElement(rect_favorites_Div_list),G_get_div_body())}function ajax_favorites_list(a,b,c){$.AMUI.progress.start();$.ajax({type:"GET",url:hostUrl+"rest/favorites/query.json",async:!1,data:{pageNo:b},dataType:"json",success:function(b){$.AMUI.progress.done();"success"==b.ResMsg.status?(React.render(React.createElement(favorites_list_div,{events:b.list,responsive:!0,bordered:!0,striped:!0,hover:!0,striped:!0}),document.getElementById(a)),"function"==typeof c&&c(b.list)):alert(b.ResMsg.message)},error:G_ajax_error_fn})}function react_ajax_favorites_show(a,b){switch(a){case 0:react_ajax_announce_show(b,"\u516c\u544a\u6536\u85cf");break;case 1:react_ajax_announce_show(b,"\u8001\u5e08\u516c\u544a");break;case 3:react_ajax_announce_good_show(b,"\u6211\u7684\u6536\u85cf");break;case 4:react_ajax_announce_show(b,"\u62db\u751f\u8ba1\u5212");break;case 91:react_px_help_show(b,"\u5e2e\u52a9\u5217\u8868");break;default:Styte.out.println("\u6b64\u4fe1\u606f\u4e3a\u975e\u6cd5\u4fe1\u606f\uff0c\u6211\u7684\u6536\u85cf\uff01")}}function ajax_queryCountMsgByParents_message(){Queue.push(function(){ajax_queryCountMsgByParents_message()},"\u6211\u7684\u4fe1\u7bb1");$.AMUI.progress.start();$.ajax({type:"GET",url:hostUrl+"rest/message/queryCountMsgByParents.json",dataType:"json",async:!0,success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?0!=a.list.length?React.render(React.createElement(My_student_tel,{formdata:a.list}),G_get_div_body()):(G_msg_pop("\u60a8\u7684\u4fe1\u7bb1\u6682\u65e0\u6570\u636e!"),React.render(React.createElement(My_student_tel2),G_get_div_body())):alert("\u52a0\u8f7d\u6570\u636e\u5931\u8d25\uff1a"+a.ResMsg.message)},error:G_ajax_error_fn})}function ajax_teacherDailyTask(){$.AMUI.progress.start();$.ajax({type:"GET",url:hostUrl+"rest/teacherDailyTask/queryByDay.json",dataType:"json",async:!0,success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?React.render(React.createElement(rect_teacherDailyTask,{events:a.list,responsive:!0,bordered:!0,striped:!0,hover:!0,striped:!0}),G_get_div_body()):alert("\u52a0\u8f7d\u6570\u636e\u5931\u8d25\uff1a"+a.ResMsg.message)},error:G_ajax_error_fn})}function ajax_group_myList_byRight(){$.AMUI.progress.start();$.ajax({type:"GET",url:hostUrl+"rest/group/myListByRight.json",data:"",dataType:"json",success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?(Store.setGroup(a.list),React.render(React.createElement(Group_EventsTable_byRight,{events:a.list,responsive:!0,bordered:!0,striped:!0,hover:!0,striped:!0}),G_get_div_body())):(alert(a.ResMsg.message),G_resMsg_filter(a.ResMsg))},error:G_ajax_error_fn})}function btn_click_group_byRight(a,b){Queue.push(function(){btn_click_group_byRight(a,b)},"add"==a?"\u6dfb\u52a0\u5206\u6821":"show"==a?"\u9884\u89c8\u5206\u6821":"\u7f16\u8f91\u5206\u6821");ajax_group_edit_byRight(a,b)}function ajax_group_edit_byRight(a,b){"add"==a?React.render(React.createElement(Group_edit_byRight,{formdata:b}),G_get_div_body()):($.AMUI.progress.start(),$.ajax({type:"GET",url:hostUrl+"rest/group/"+b.uuid+".json",dataType:"json",async:!0,success:function(b){$.AMUI.progress.done();"success"==b.ResMsg.status?"edit"==a?React.render(React.createElement(Group_edit_byRight,{formdata:b.data}),G_get_div_body()):React.render(React.createElement(Group_show_byRight,{formdata:b.data,count:b.count}),G_get_div_second()):alert("\u52a0\u8f7d\u6570\u636e\u5931\u8d25\uff1a"+b.ResMsg.message)},error:G_ajax_error_fn}))}function ajax_group_save_byRight(){G_ajax_abs_save({formName:"editGroupForm",url:hostUrl+"rest/group/save.json",cbFN:function(a){G_msg_pop(a.ResMsg.message);Queue.doBackFN();Store.setGroup(null);ajax_getUserinfo()}})}var g_message_groupuuid="";function ajax_announce_listByGroup_byRight(){var a=Store.getGroupByRight("KD_announce_m");if(!a||0==a.length)return G_msg_pop("\u6ca1\u6709\u6743\u9650!"),"";g_message_groupuuid||(g_message_groupuuid=a[0].uuid);React.render(React.createElement(Announcements_EventsTable_byRight,{groupuuid:g_message_groupuuid,pageNo:1,group_list:G_selected_dataModelArray_byArray(a,"uuid","brand_name"),events:[],type:announce_types,responsive:!0,bordered:!0,striped:!0,hover:!0,striped:!0}),G_get_div_body())}function react_ajax_announce_show_byRight(a,b){Queue.push(function(){react_ajax_announce_show_byRight(a,b)},b);$.AMUI.progress.start();$.ajax({type:"GET",url:hostUrl+"rest/announcements/"+a+".json",dataType:"json",async:!0,success:function(a){$.AMUI.progress.done();if("success"==a.ResMsg.status){var b=a.data;b.url&&G_CallPhoneFN.openNewWindowUrl(b.title,b.title,null,a.share_url)||React.render(React.createElement(Announcements_show_byRight,{share_url:a.share_url,data:a.data,count:a.count}),G_get_div_body())}else alert("\u52a0\u8f7d\u6570\u636e\u5931\u8d25\uff1a"+a.ResMsg.message)},error:G_ajax_error_fn})}function btn_click_announce_byRight(a,b,c){"add"==a?(Queue.push(function(){btn_click_announce_byRight(a,b,c)},"\u521b\u5efa\u4fe1\u606f"),react_ajax_announce_edit_byRight({groupuuid:b,type:announce_types},null)):"edit"==a?(Queue.push(function(){btn_click_announce_byRight(a,b,c)},"\u7f16\u8f91\u4fe1\u606f"),react_ajax_announce_edit_byRight(null,c)):"del"==a&&react_ajax_announce_delete_byRight(b,c)}function react_ajax_announce_edit_byRight(a,b){b?($.AMUI.progress.start(),$.ajax({type:"GET",url:hostUrl+"rest/announcements/"+b+".json",dataType:"json",async:!0,success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?React.render(React.createElement(Announcements_edit_byRight,{formdata:a.data,group_list:G_selected_dataModelArray_byArray(Store.getGroupByRight("KD_announce_m"),"uuid","brand_name")}),G_get_div_body()):alert("\u52a0\u8f7d\u6570\u636e\u5931\u8d25\uff1a"+a.ResMsg.message)},error:G_ajax_error_fn})):React.render(React.createElement(Announcements_edit_byRight,{formdata:a,group_list:G_selected_dataModelArray_byArray(Store.getGroupByRight("KD_announce_m"),"uuid","brand_name")}),G_get_div_body())}function react_ajax_announce_delete_byRight(a,b){confirm("\u786e\u5b9a\u8981\u5220\u9664\u5417?")&&($.AMUI.progress.start(),$.ajax({type:"POST",url:hostUrl+"rest/announcements/delete.json?uuid\x3d"+b,dataType:"json",async:!0,success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?ajax_announce_listByGroup_byRight():alert(a.ResMsg.message)},error:G_ajax_error_fn}))}function ajax_announcements_save_byRight(){G_ajax_abs_save({formName:"editAnnouncementsForm",url:hostUrl+"rest/announcements/save.json",cbFN:null})}var hd_type_byRight="";function ajax_classnews_list_div_byRight(a){Queue.push(function(){ajax_classnews_list_div_byRight(a)},"\u73ed\u7ea7\u4e92\u52a8");hd_type_byRight=a;React.render(React.createElement(Classnews_Div_list_byRight,{type:hd_type_byRight}),G_get_div_body())}g_classnews_pageNo_point=1;function ajax_classs_Mygoodlist_byRight(a,b,c,d){b||(b=1);g_classnews_pageNo_point=b;$.AMUI.progress.start();$.ajax({type:"GET",url:hostUrl+"rest/classnews/getAllClassNews.json",data:{pageNo:b},dataType:"json",success:function(b){$.AMUI.progress.done();"success"==b.ResMsg.status?(React.render(React.createElement(Classnews_EventsTable_byRight,{events:b.list,handleClick:btn_click_classnews,responsive:!0,bordered:!0,striped:!0,hover:!0,striped:!0}),document.getElementById(a)),"function"==typeof d&&d(b.list)):(alert(b.ResMsg.message),G_resMsg_filter(b.ResMsg))},error:G_ajax_error_fn})}function btn_click_classnews_byRight(a,b){Queue.push(function(){btn_click_classnews_byRight(a,b)},"\u53d1\u5e03\u4e92\u52a8");ajax_classnews_edit(a,b)}function ajax_classnews_edit_byRight(a,b){var c=G_selected_dataModelArray_byArray(mycalsslist,"uuid","name");null==c||0==c.length?G_msg_pop("\u4f60\u6ca1\u6709\u6240\u5c5e\u73ed\u7ea7,\u4e0d\u80fd\u53d1\u5e03\u73ed\u7ea7\u4e92\u52a8."):"add"==a&&React.render(React.createElement(Classnews_edit_byRight,{formdata:b,mycalsslist:G_selected_dataModelArray_byArray(mycalsslist,"uuid","name")}),G_get_div_body())}function ajax_classnews_save_byRight(){var a="";$(".G_cookplan_Img_img").each(function(){a+=","+$(this).attr("src")});$("#imgs").val(a);G_ajax_abs_save({formName:"editClassnewsForm",url:hostUrl+"rest/classnews/save.json",cbFN:null})}function ajax_uesrinfo_listByGroup_div(a){var b=Store.getGroupByRight("KD_teacher_m");React.render(React.createElement(Userinfo_EventsTable_div,{group_list:G_selected_dataModelArray_byArray(b,"uuid","brand_name"),handleClick:btn_click_userinfo,groupuuid:a}),G_get_div_body())}function ajax_uesrinfo_listByGroup(a,b,c,d,e){c||(c="");d||(d=1);$.AMUI.progress.start();$.ajax({type:"GET",url:hostUrl+"rest/userinfo/listByPage.json",data:{groupuuid:b,name:c,pageNo:d},dataType:"json",success:function(c){$.AMUI.progress.done();"success"==c.ResMsg.status?(React.render(React.createElement(Userinfo_EventRow,{groupuuid:b,events:c.list.data,students_number:c.list.totalCount,pageNo:c.list.pageNo,responsive:!0,bordered:!0,striped:!0,hover:!0,striped:!0}),document.getElementById(a)),"function"==typeof e&&e(c.list)):(alert(c.ResMsg.message),G_resMsg_filter(c.ResMsg))},error:G_ajax_error_fn});return null}function btn_click_userinfo(a,b,c,d){"add"==a?(Queue.push(function(){btn_click_userinfo(a,b,c,d)},"\u65b0\u589e\u8001\u5e08"),b.sex=1,ajax_userinfo_edit(b,"add")):"disable"==a?ajax_userinfo_updateDisable(b,1):"enable"==a?ajax_userinfo_updateDisable(b,0):"getRole"!=a&&"edit"==a&&(Queue.push(function(){btn_click_userinfo(a,b,c,d)},"\u8001\u5e08\u4fee\u6539"),ajax_userinfo_edit({uuid:b,sex:d},"edit"))}function ajax_userinfo_edit(a,b){"add"==b?React.render(React.createElement(Userinfo_edit,{formdata:a,select_group_list:G_selected_dataModelArray_byArray(Store.getGroupByRight("KD_teacher_m"),"uuid","brand_name")}),G_get_div_body()):($.AMUI.progress.start(),$.ajax({type:"GET",url:hostUrl+"rest/userinfo/"+a.uuid+".json",dataType:"json",async:!0,success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?React.render(React.createElement(Userinfo_edit,{mygroup_uuids:a.mygroup_uuids,formdata:a.data,select_group_list:G_selected_dataModelArray_byArray(Store.getGroupByRight("KD_teacher_m"),"uuid","brand_name")}),G_get_div_body()):alert("\u52a0\u8f7d\u6570\u636e\u5931\u8d25\uff1a"+a.ResMsg.message)},error:G_ajax_error_fn}))}function btn_ajax_updateRole(a,b){var c=null;$("input[name\x3d'table_checkbox']").each(function(){this.checked&&(c=null==c?this.value:c+(","+this.value))});c?($.AMUI.progress.start(),$.ajax({type:"POST",url:hostUrl+"rest/userinfo/updateRole.json",processData:!0,dataType:"json",data:{useruuid:a,groupuuid:b,roleuuids:c},success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?(G_msg_pop(a.ResMsg.message),Queue.doBackFN()):alert(a.ResMsg.message)},error:G_ajax_error_fn})):alert("\u8bf7\u52fe\u9009\u590d\u9009\u6846\uff01")}function ajax_userinfo_saveByAdmin(){$("#password")[0]&&$("#password").val($.md5($("#password").val()));G_ajax_abs_save({formName:"editUserinfoForm",url:hostUrl+"rest/userinfo/saveByAdmin.json",cbFN:null})}function ajax_tel_btn_info(a,b){$.AMUI.progress.start();$.ajax({type:"GET",url:hostUrl+"rest/userinfo/getUserBytel.json",dataType:"json",data:{tel:a},async:!0,success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?React.render(React.createElement(Userinfo_edit,{mygroup_uuids:b,formdata:a,select_group_list:G_selected_dataModelArray_byArray(Store.getGroupByRight("KD_teacher_m"),"uuid","brand_name"),sex:a.sex}),G_get_div_body()):alert("\u52a0\u8f7d\u6570\u636e\u5931\u8d25\uff1a"+a.ResMsg.message)},error:G_ajax_error_fn})}function ajax_flowername_download_byRight(a,b,c){var d,e=hostUrl+"rest/student/exportStudentExcel.json";d=d+('\x3cinput type\x3d"hidden" name\x3d"groupuuid" value\x3d"'+a+'" /\x3e')+('\x3cinput type\x3d"hidden" name\x3d"classuuid" value\x3d"'+b+'" /\x3e');d+='\x3cinput type\x3d"hidden" name\x3d"xlsname" value\x3d"'+c+'" /\x3e';$('\x3cform action\x3d"'+e+'" method\x3d"post"\x3e'+d+"\x3c/form\x3e").appendTo("body").submit().remove()}function userTeacher_div_byRight(a){var b=Store.getGroup();React.render(React.createElement(UserTeacher_EventsTable_div,{group_list:G_selected_dataModelArray_byArray(b,"uuid","brand_name"),groupuuid:a}),G_get_div_body())}function ajax_userTeacher_listByGroup(a,b,c,d,e){c||(c="");d||(d=1);$.AMUI.progress.start();$.ajax({type:"GET",url:hostUrl+"rest/userteacher/listByPage.json",data:{groupuuid:b,name:c,pageNo:d},dataType:"json",success:function(b){$.AMUI.progress.done();"success"==b.ResMsg.status?(React.render(React.createElement(UserTeacher_EventRow,{events:b.list.data,students_number:b.list.totalCount,pageNo:b.list.pageNo,responsive:!0,bordered:!0,striped:!0,hover:!0,striped:!0}),document.getElementById(a)),"function"==typeof e&&e(b.list)):(alert(b.ResMsg.message),G_resMsg_filter(b.ResMsg))},error:G_ajax_error_fn});return null}var g_cookbookPlan_week_point=0;function ajax_cookbookPlan_listByGroup_byRight(a,b){Queue.push(function(){ajax_cookbookPlan_listByGroup_byRight(a,b)},"\u98df\u8c31\u7ba1\u7406");var c=new Date;b?c=G_week.getDate(c,7*b):g_cookbookPlan_week_point=0;a||(a=Store.getGroupByRight("KD_cookbookplan_m").uuid);var d=G_week.getWeek0(c),e=G_week.getWeek6(c);$.AMUI.progress.start();$.ajax({type:"GET",url:hostUrl+"rest/cookbookplan/list.json",data:{groupuuid:a,begDateStr:d,endDateStr:e},dataType:"json",success:function(b){$.AMUI.progress.done();"success"==b.ResMsg.status?(null==b.list&&(b.list=[]),React.render(React.createElement(CookbookPlan_EventsTable_byRight,{group_uuid:a,events:b.list,begDateStr:d,endDateStr:e,group_list:G_selected_dataModelArray_byArray(Store.getGroupByRight("KD_cookbookplan_m"),"uuid","brand_name"),handleClick:btn_click_cookbookPlan_byRight,responsive:!0,bordered:!0,striped:!0,hover:!0,striped:!0}),G_get_div_body())):(alert(b.ResMsg.message),G_resMsg_filter(b.ResMsg))},error:G_ajax_error_fn})}function btn_click_cookbookPlan_byRight(a,b){react_ajax_cookbookPlan_edit_byRight(a,b)}function react_ajax_cookbookPlan_edit_byRight(a,b){"add"==a?(Queue.push(function(){react_ajax_cookbookPlan_edit_byRight(a,b)},"\u65b0\u589e\u98df\u8c31"),b.groupuuid?React.render(React.createElement(CookbookPlan_edit_byRight,{group_list:Store.getCurGroupByRight("KD_cookbookplan_m"),formdata:b}),G_get_div_body()):G_msg_pop("\u65b0\u5efa\u98df\u8c31\uff0c\u5b66\u6821id\u5fc5\u586b")):(Queue.push(function(){react_ajax_cookbookPlan_edit_byRight(a,b)},"\u98df\u8c31\u7f16\u8f91"),$.AMUI.progress.start(),$.ajax({type:"GET",url:hostUrl+"rest/cookbookplan/"+b.uuid+".json",dataType:"json",async:!0,success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?React.render(React.createElement(CookbookPlan_edit_byRight,{group_list:Store.getGroupByRight("KD_cookbookplan_m"),formdata:a.data}),G_get_div_body()):alert("\u52a0\u8f7d\u6570\u636e\u5931\u8d25\uff1a"+a.ResMsg.message)},error:G_ajax_error_fn}))}function ajax_cookbookPlan_save_byRight(){$.AMUI.progress.start();var a=$("#editCookbookPlanForm").serializeJson();a.time_1=cookbookPlan_getTimeImgUuid("time_1");a.time_2=cookbookPlan_getTimeImgUuid("time_2");a.time_3=cookbookPlan_getTimeImgUuid("time_3");a.time_4=cookbookPlan_getTimeImgUuid("time_4");a.time_5=cookbookPlan_getTimeImgUuid("time_5");a=JSON.stringify(a);$.ajax({type:"POST",url:hostUrl+"rest/cookbookplan/save.json",processData:!1,data:a,dataType:"json",contentType:!1,success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?(G_msg_pop(a.ResMsg.message),Queue.doBackFN()):(alert(a.ResMsg.message),G_resMsg_filter(a.ResMsg))},error:G_ajax_error_fn})}function cookbookPlan_getTimeImgUuid(a){var b=null;$("#div_cookPlan_"+a+" \x3e .G_cookplan_Img").each(function(){$(this).is(":hidden")||(b=null==b?this.title:b+(","+this.title))});return b}function ajax_queryLeaderMsgByParents_message_byRight(){Queue.push(function(){ajax_queryLeaderMsgByParents_message_byRight()},"\u56ed\u957f\u4fe1\u7bb1");$.AMUI.progress.start();$.ajax({type:"GET",url:hostUrl+"rest/message/queryLeaderMsgByParents.json",dataType:"json",async:!0,success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?0!=a.list.length?React.render(React.createElement(Boss_student_tel_byRight,{formdata:a.list}),G_get_div_body()):(G_msg_pop("\u6682\u65e0\u56ed\u957f\u4fe1\u7bb1\u6570\u636e!"),React.render(React.createElement(Boss_student_tel2_byRight),G_get_div_body())):alert("\u52a0\u8f7d\u6570\u636e\u5931\u8d25\uff1a"+a.ResMsg.message)},error:G_ajax_error_fn})}function ajax_my_boss_stage_byRight(a,b,c){React.render(React.createElement(Boss_message_stage_byRight,{send_useruuid:a,revice_useruuid:b}),G_get_div_second())}function ajax_boss_message_list_byRight(a,b,c,d,e){d||(d=1);$.AMUI.progress.start();$.ajax({type:"GET",url:hostUrl+"rest/message/queryByParentAndLeader.json",data:{group_uuid:b,parent_uuid:a,pageNo:d},dataType:"json",async:!1,success:function(d){$.AMUI.progress.done();"success"==d.ResMsg.status?(React.render(React.createElement(Message_queryLeaderMsgByParents_listpage_byRight,{events:d.list,send_useruuid:b,revice_useruuid:a,responsive:!0,bordered:!0,striped:!0,hover:!0,striped:!0}),document.getElementById(c)),"function"==typeof e&&e(d.list)):alert("\u52a0\u8f7d\u6570\u636e\u5931\u8d25\uff1a"+d.ResMsg.message)},error:G_ajax_error_fn})}function ajax_boss_message_save_byRight(a,b){b||(b="BosseditForm");G_ajax_abs_save({formName:b,url:hostUrl+"rest/message/saveLeaderToParent.json",cbFN:function(b){"success"==b.ResMsg.status?(G_msg_pop(b.ResMsg.message),a&&a()):(alert(b.ResMsg.message),G_resMsg_filter(b.ResMsg))}})}function ajax_class_listByGroup_byRight(a){Queue.push(function(){ajax_class_listByGroup_byRight(a)},"\u73ed\u7ea7\u7ba1\u7406");var b=Store.getGroupByRight("KD_class_m");b&&0!=b.length?(a||(a=b[0].uuid),$.AMUI.progress.start(),$.ajax({type:"GET",url:hostUrl+"rest/class/list.json?groupuuid\x3d"+a,data:"",dataType:"json",success:function(c){$.AMUI.progress.done();"success"==c.ResMsg.status?React.render(React.createElement(Class_EventsTable_byRight,{group_uuid:a,group_list:G_selected_dataModelArray_byArray(b,"uuid","brand_name"),events:c.list,handleClick:btn_click_class_list_byRight,responsive:!0,bordered:!0,striped:!0,hover:!0,striped:!0}),G_get_div_body()):(alert(c.ResMsg.message),G_resMsg_filter(c.ResMsg))},error:G_ajax_error_fn})):alert("\u6ca1\u6709\u73ed\u7ea7\u7ba1\u7406\u6743\u9650\u4e0d\u80fd\u8bbf\u95ee.")}function btn_click_class_list_byRight(a,b,c){"add_class"==a?(Queue.push(function(){btn_click_class_list_byRight(a,b,c)},"\u65b0\u589e\u73ed\u7ea7"),react_ajax_class_edit_get_byRight({groupuuid:b},null)):"edit_class"==a?!c&&-1<c.indexOf(",")?G_msg_pop("\u53ea\u80fd\u9009\u62e9\u4e00\u4e2a\u73ed\u7ea7\u8fdb\u884c\u7f16\u8f91\uff01"):(Queue.push(function(){btn_click_class_list_byRight(a,b,c)},"\u7f16\u8f91\u73ed\u7ea7"),react_ajax_class_edit_get_byRight({groupuuid:b},c)):"delete"==a&&(!c&&-1<c.indexOf(",")?alert("\u53ea\u80fd\u9009\u62e9\u4e00\u4e2a\u73ed\u7ea7\u8fdb\u884c\u7f16\u8f91\uff01"):ajax_class_delete_byRight(c))}function ajax_class_edit_byRight(a,b){}function react_ajax_class_edit_get_byRight(a,b){if(b)$.AMUI.progress.start(),$.ajax({type:"GET",url:hostUrl+"rest/class/"+b+".json",dataType:"json",async:!0,success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?React.render(React.createElement(Class_edit_byRight,{formdata:a.data,group_list:G_selected_dataModelArray_byArray(Store.getGroupByRight("KD_class_m"),"uuid","brand_name")}),G_get_div_body()):alert("\u52a0\u8f7d\u6570\u636e\u5931\u8d25\uff1a"+a.ResMsg.message)},error:G_ajax_error_fn});else{var c=Store.getUserinfo();a.headTeacher=c.uuid;a.headTeacher_name=c.name;React.render(React.createElement(Class_edit_byRight,{formdata:a,group_list:G_selected_dataModelArray_byArray(Store.getGroupByRight("KD_class_m"),"uuid","brand_name")}),G_get_div_body())}}function ajax_class_save_byRight(){G_ajax_abs_save({formName:"editClassForm",url:hostUrl+"rest/class/save.json",cbFN:function(a){G_msg_pop(a.ResMsg.message);Store.setMyClassList(null);Store.clearChooseClass(null);Queue.doBackFN()}})}function ajax_flowername_download_byRight(a,b,c){var d,e=hostUrl+"rest/student/exportStudentExcel.json";d=d+('\x3cinput type\x3d"hidden" name\x3d"groupuuid" value\x3d"'+a+'" /\x3e')+('\x3cinput type\x3d"hidden" name\x3d"classuuid" value\x3d"'+b+'" /\x3e');d+='\x3cinput type\x3d"hidden" name\x3d"xlsname" value\x3d"'+c+'" /\x3e';$('\x3cform action\x3d"'+e+'" method\x3d"post"\x3e'+d+"\x3c/form\x3e").appendTo("body").submit().remove()}function react_ajax_class_students_manage_byRight(a){$.AMUI.progress.start();var b={},c=hostUrl+"rest/class/"+a+".json";$.ajax({type:"GET",url:c,dataType:"json",async:!1,success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?b=a.data:alert("\u52a0\u8f7d\u6570\u636e\u5931\u8d25\uff1a"+a.ResMsg.message)},error:G_ajax_error_fn});c=hostUrl+"rest/student/getStudentByClassuuid.json?classuuid\x3d"+a;$.ajax({type:"GET",url:c,dataType:"json",async:!1,success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?(students=a.list,students_number=a.list.length):alert("\u52a0\u8f7d\u6570\u636e\u5931\u8d25\uff1a"+a.ResMsg.message)},error:G_ajax_error_fn});Queue.push(function(){react_ajax_class_students_manage_byRight(a)},"\u73ed\u7ea7\u8be6\u60c5");React.render(React.createElement(Class_students_manage_byRight,{students:students,formdata:b,groupList:G_selected_dataModelArray_byArray(Store.getGroupByRight("KD_class_m"),"uuid","brand_name"),classList:G_selected_dataModelArray_byArray(Store.getChooseClass(b.groupuuid),"uuid","name"),students:students}),G_get_div_body())}function btn_click_class_kuang_byRight(a){react_ajax_class_students_manage_byRight(a)}function class_students_manage_onClick_byRight(a,b,c){"add"==a?ajax_class_students_edit_byRight({classuuid:b,sex:0},null):ajax_teachingplan_dayShow(null,{uuid:b,name:c})}function ajax_class_students_edit_byRight(a,b){b?(Queue.push(function(){ajax_class_students_edit_byRight(a,b)},"\u7f16\u8f91\u5b66\u751f"),$.AMUI.progress.start(),$.ajax({type:"GET",url:hostUrl+"rest/student/"+b+".json",dataType:"json",async:!0,success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?React.render(React.createElement(Class_student_edit_byRight,{formdata:a.data}),G_get_div_body()):alert("\u52a0\u8f7d\u6570\u636e\u5931\u8d25\uff1a"+a.ResMsg.message)},error:G_ajax_error_fn})):(Queue.push(function(){ajax_class_students_edit_byRight(a,b)},"\u65b0\u589e\u5b66\u751f"),React.render(React.createElement(Class_student_edit_byRight,{formdata:a}),G_get_div_body()))}function btn_ajax_class_student_save_byRight(){var a=$("#editClassStudentForm").serializeJson();G_ajax_abs_save({formName:"editClassStudentForm",url:hostUrl+"rest/student/save.json",cbFN:function(b){G_msg_pop(b.ResMsg.message);Store.setClassStudentsList(b.uuid,null);react_ajax_class_students_manage_byRight(a.classuuid)}})}function ajax_student_changeClass(a,b){$.ajax({type:"POST",data:{classuuid:a,studentuuid:b},url:hostUrl+"rest/student/changeClass.json",dataType:"json",async:!0,success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?(G_msg_pop(a.ResMsg.message),Queue.doBackFN()):alert("\u52a0\u8f7d\u6570\u636e\u5931\u8d25\uff1a"+a.ResMsg.message)},error:G_ajax_error_fn})}function ajax_class_disable_byRight(a,b){confirm("\u786e\u5b9a\u8be5\u73ed\u7ea7\u8981\u7ed3\u4e1a\u561b?")&&($.AMUI.progress.start(),$.ajax({type:"POST",url:hostUrl+"rest/class/disable.json",data:{uuid:b},dataType:"json",success:function(b){$.AMUI.progress.done();"success"==b.ResMsg.status?ajax_class_listByGroup_byRight(a):(alert(b.ResMsg.message),G_resMsg_filter(b.ResMsg))},error:G_ajax_error_fn}))}function ajax_accounts_listByGroup_byRight(a){var b=Store.getGroupByRight("KD_accounts_m");if(!b||0==b.length)return alert("\u6ca1\u6709\u6743\u9650!"),"";a||(a=b[0].uuid);Queue.push(function(){ajax_accounts_listByGroup_byRight(a)},"\u6536\u652f\u8bb0\u5f55");$.AMUI.progress.start();$.ajax({type:"GET",url:hostUrl+"rest/accounts/list.json?groupuuid\x3d"+a,data:"",dataType:"json",success:function(c){$.AMUI.progress.done();"success"==c.ResMsg.status?React.render(React.createElement(Accounts_EventsTable_byRight,{group_uuid:a,group_list:G_selected_dataModelArray_byArray(b,"uuid","brand_name"),events:c.list,responsive:!0,bordered:!0,striped:!0,hover:!0,striped:!0}),G_get_div_body()):(alert(c.ResMsg.message),G_resMsg_filter(c.ResMsg))},error:G_ajax_error_fn})}function btn_click_accounts_byRight(a,b){ajax_accounts_edit_byRight(a,b)}function ajax_accounts_edit_byRight(a,b){Queue.push(function(){ajax_accounts_edit_byRight(a,b)},"\u6dfb\u52a0\u6536\u652f");b.groupuuid||(b.groupuuid="");b.classuuid||(b.classuuid="");b.studentuuid||(b.studentuuid="");React.render(React.createElement(Accounts_edit_byRight,{type_list:G_selected_dataModelArray_byArray(Vo.getTypeList("KD_Accounts_type"),"key","val"),group_list:G_selected_dataModelArray_byArray(Store.getGroupByRight("KD_accounts_m"),"uuid","brand_name"),formdata:b}),G_get_div_body())}function ajax_accounts_save_byRight(){G_ajax_abs_save({formName:"editAccountsForm",url:hostUrl+"rest/accounts/save.json",cbFN:null})}function ajax_accounts_saveAndAdd_byRight(){G_ajax_abs_save({formName:"editAccountsForm",url:hostUrl+"rest/accounts/save.json",cbFN:function(a){G_msg_pop("\u4fdd\u5b58\u6210\u529f!\u7ee7\u7eed\u6dfb\u52a0.")}})}var g_student_query_point=1;function ajax_student_query_byRight(a,b,c,d){Queue.push(function(){ajax_student_query_byRight(a,b,c,d)},"\u5b66\u751f\u5217\u8868");a||(a="");b||(b="");c||(c="");d||(d=1);g_student_query_point=d;$.AMUI.progress.start();$.ajax({type:"GET",url:hostUrl+"rest/student/querybyRight.json?groupuuid\x3d"+a+"\x26classuuid\x3d"+b+"\x26name\x3d"+c+"\x26pageNo\x3d"+d,dataType:"json",success:function(d){$.AMUI.progress.done();"success"==d.ResMsg.status?React.render(React.createElement(Query_stutent_list_byRight,{group_uuid:a,class_uuid:b,name:c,group_list:G_selected_dataModelArray_byArray(Store.getGroupByRight("KD_student_allquery"),"uuid","brand_name"),data:d,events:d.list.data,responsive:!0,bordered:!0,striped:!0,hover:!0,striped:!0}),G_get_div_body()):alert(d.ResMsg.message)},error:G_ajax_error_fn})}function ajax_class_students_look_info_byRight(a,b){$.AMUI.progress.start();$.ajax({type:"GET",url:hostUrl+"rest/student/"+a+".json",dataType:"json",async:!0,success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?React.render(React.createElement(Class_student_look_info_byRight,{formdata:a.data}),G_get_div_second()):alert("\u52a0\u8f7d\u6570\u636e\u5931\u8d25\uff1a"+a.ResMsg.message)},error:G_ajax_error_fn})}function ajax_teachingjudge_query_byRight(a,b,c,d,e){Queue.push(function(){ajax_teachingjudge_query_byRight(a,b,c,d,e)},"\u8bc4\u4ef7\u8001\u5e08");var f=Store.getGroupByRight("KD_teachingjudge_q");if(!f||0==f.length)return alert("\u6ca1\u6709\u6743\u9650!"),"";c||(c=f[0].uuid);e||(e="");d||(d="");var g=new Date;a||(a=G_week.getDateStr(g,0));b||(b=G_week.getDateStr(g,0));$.AMUI.progress.start();$.ajax({type:"GET",url:hostUrl+"rest/teachingjudge/query.json",data:{begDateStr:a,endDateStr:b,groupuuid:c,type:e,teacher_name:d,type:e},dataType:"json",success:function(d){$.AMUI.progress.done();"success"==d.ResMsg.status&&React.render(React.createElement(Query_teachingjudge_list_byRight,{begDateStr:a,endDateStr:b,group_uuid:c,type:e,group_list:G_selected_dataModelArray_byArray(f,"uuid","brand_name"),teachingjudge_typelist:G_selected_dataModelArray_byArray(Vo.getTypeList("KD_Teachingjudge_type"),"key","val"),events:d.list,responsive:!0,bordered:!0,striped:!0,hover:!0,striped:!0}),G_get_div_body())}})}function menu_kd_roleUser_list_fn(){var a=Store.getGroupByRight("KD_announce_m");if(!a||0==a.length)return alert("\u6ca1\u6709\u6743\u9650!"),"";var b=a[0].uuid;Queue.push(menu_kd_roleUser_list_fn,"\u6388\u6743");a={groupuuid:b,group_list:G_selected_dataModelArray_byArray(a,"uuid","brand_name"),role_list:Store.getRoleList(1)};React.render(React.createElement(G_Role_User_EventsTable,a),G_get_div_body())}function menu_userteacher_fn(){Queue.push(function(){menu_userteacher_fn()},"\u4fee\u6539\u6559\u5e08\u8d44\u6599");$.AMUI.progress.start();var a=G_selected_dataModelArray_byArray(Vo.getTypeList("xueli"),"key","val");$.ajax({type:"GET",url:hostUrl+"rest/userteacher/get.json",data:{useruuid:Store.getUserinfo().uuid},dataType:"json",success:function(b){$.AMUI.progress.done();"success"==b.ResMsg.status?React.render(React.createElement(Div_userteacher_update,{formdata:b.data,userteacherlist:a}),G_get_div_body()):(alert(b.ResMsg.message),G_resMsg_filter(b.ResMsg))},error:G_ajax_error_fn})}function ajax_ClassCard_info_byRight(a){React.render(React.createElement(Announcements_Div_ClassCard_info_byRight,{studentuuid:a}),G_get_div_second())}function ajax_announce_ClassCard_info(a,b,c,d){$.AMUI.progress.start();c||(c=1);$.ajax({type:"GET",url:hostUrl+"rest/studentSignRecord/queryStudentuuid.json",data:{studentuuid:b,pageNo:c},dataType:"json",async:!1,success:function(b){$.AMUI.progress.done();"success"==b.ResMsg.status?(React.render(React.createElement(Announcements_ClassCard_info_div,{events:b.list.data,responsive:!0,bordered:!0,striped:!0,hover:!0,striped:!0}),document.getElementById(a)),"function"==typeof d&&d(b.list)):(alert(b.ResMsg.message),G_resMsg_filter(b.ResMsg))},error:G_ajax_error_fn})}function ajax_px_help_div(){React.render(React.createElement(Announcements_px_Div_list),G_get_div_body())}function ajax_help_px_list(a,b,c){$.AMUI.progress.start();$.ajax({type:"GET",url:hostUrl+"rest/share/articleList.json",data:{type:91,pageNo:b},dataType:"json",async:!1,success:function(b){$.AMUI.progress.done();"success"==b.ResMsg.status?(React.render(React.createElement(Px_helplist_div,{events:b.list,responsive:!0,bordered:!0,striped:!0,hover:!0,striped:!0}),document.getElementById(a)),"function"==typeof c&&c(b.list)):(alert(b.ResMsg.message),G_resMsg_filter(b.ResMsg))},error:G_ajax_error_fn})}function react_px_help_show(a,b){$.AMUI.progress.start();$.ajax({type:"GET",url:hostUrl+"rest/announcements/"+a+".json",dataType:"json",async:!0,success:function(a){$.AMUI.progress.done();if("success"==a.ResMsg.status){var b=a.data;b.url&&G_CallPhoneFN.openNewWindowUrl(b.title,b.title,null,a.share_url)||React.render(React.createElement(Announcements_helpshow,{data:a.data,share_url:a.share_url,count:a.count}),G_get_div_second())}else alert("\u52a0\u8f7d\u6570\u636e\u5931\u8d25\uff1a"+a.ResMsg.message)},error:G_ajax_error_fn})};