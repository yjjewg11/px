function body_show(){$("#div_body").show();$("#div_widget_chooseUser").hide();$("#div_widget_chooseCook").hide()}function Sns_userinfo_login(){var c=$("#btn_login");c.button("loading");$.AMUI.progress.start();var b=$("#login_form").serializeJson();32!=b.password.length&&(b.password=$.md5(b.password));$.ajax({type:"POST",url:hostUrl+"rest/userinfo/login.json",data:b,dataType:"json",success:function(a){c.button("reset");$.AMUI.progress.done();"success"==a.ResMsg.status?(Store.clear(),setCookie("bs_loginname",b.loginname),setCookie("bs_grouptype",b.grouptype),$("#pw_checked")[0].checked?(setCookie("bs_password",b.password),setCookie("pw_checked","checked")):(setCookie("bs_password",""),setCookie("pw_checked","")),Store.setUserinfo(a.userinfo),Store.setGroup(a.list),PxRight.setUserRights(a.S_User_rights),G_CallPhoneFN.jsessionToPhone(a.JSESSIONID),setCookie("bs_grouptype",a.S_type),PxLazyM.loadJS_for(getCookie("bs_grouptype")),G_msg_pop(a.ResMsg.message)):alert(a.ResMsg.message)},error:function(a,b,d){c.button("reset");$.AMUI.progress.done();a.responseText&&a.responseText.indexOf("G_key_no_connect_server")?alert("\u6ca1\u8fde\u63a5\u4e0a\u4e92\u8054\u7f51."):alert(a.status+","+b+"\x3d"+d)}})}var SnsIndexPage=function(){function c(a){$.AMUI.progress.start();$.ajax({type:"GET",url:hostUrl+"rest/userinfo/getUserinfo.json?grouptype\x3d3",async:!1,dataType:"json",success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status&&(SnsIndexPage.user=a.userinfo)},error:G_ajax_error_fn})}function b(){$("#div_seesion_body").show();$("#div_login").html(null);body_show();PxSns.list_init()}return{user:{uuid:"",name:"\u6e38\u5ba2"},menu_dohome:b,addTopic:function(){PxSnsService.btnclick_sns_snsTopic("add")},init:function(){Queue.homePageFn=b;c(!0);var a=void 0,a="\u8bdd\u9898|"+SnsIndexPage.user.name;React.render(React.createElement(AMUIReact.Header,{title:a,link:"#title-link",data:{left:[{link:"javascript:Queue.doBackFN();",icon:"chevron-left"}],right:[{link:"javascript:SnsIndexPage.addTopic();",icon:"pencil-square-o"}]}}),document.getElementById("div_header"));$("#div_seesion_body").show();$("#div_login").html(null);body_show();(a=$.getUrlParam("topic_uuid"))?(PxSnsService.ajax_sns_snsTopic_show(a),a=!0):a=!1;a||PxSns.list_init()}}}();SnsIndexPage.init();