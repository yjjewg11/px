function G_resMsg_Timeout_sns(d){"sessionTimeout"==d.status?G_resMsg_Timeout():alert(d.message)}var PxSnsService=function(){function d(b,a){"add"==b?(Queue.push(function(){d(b,a)},"\u521b\u5efa\u8bdd\u9898"),e(null)):"edit"==b?(Queue.push(function(){d(b,a)},"\u7f16\u8f91\u8bdd\u9898"),e(a)):"del"==b&&g(a)}function e(b){b?($.AMUI.progress.start(),$.ajax({type:"GET",url:hostUrl+"rest/snsTopic/"+b+".json",dataType:"json",async:!0,success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?React.render(React.createElement(Sns_snsTopic_add_edit,{formdata:a.data,itemList:a.itemList}),G_get_div_body()):alert("\u52a0\u8f7d\u6570\u636e\u5931\u8d25\uff1a"+a.ResMsg.message)},error:G_ajax_error_fn})):React.render(React.createElement(Sns_snsTopic_add_edit,{formdata:{section_id:"1"}}),G_get_div_body())}function g(b){confirm("\u786e\u5b9a\u8981\u5220\u9664\u5417?")&&($.AMUI.progress.start(),$.ajax({type:"POST",url:hostUrl+"rest/snsTopic/delete.json?uuid\x3d"+b,dataType:"json",async:!0,success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?Queue.doBackFN():G_resMsg_Timeout_sns(a.ResMsg)},error:G_ajax_error_fn}))}return{sns_snsTopic_list:function(b,a,c,f){c=1==c?"rest/snsTopic/listPage.json":2==c?"rest/snsTopic/hotListPage.json":"rest/snsTopic/topListPage.json";$.AMUI.progress.start();$.ajax({type:"GET",url:hostUrl+c,data:{pageNo:a},dataType:"json",async:!1,success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?(React.render(React.createElement(sns_list_snsTopic_rect,{events:a.list,responsive:!0,bordered:!0,striped:!0,hover:!0,striped:!0}),document.getElementById(b)),"function"==typeof f&&f(a.list)):(alert(a.ResMsg.message),G_resMsg_filter(a.ResMsg))},error:G_ajax_error_fn})},btnclick_sns_snsTopic:d,ajax_sns_snsTopic_save:function(){var b=SnsitemListObj.getData(),a=$("#snsAnnouncementsForm").serializeJson();a.itemList=b;b={jsonString:JSON.stringify(a),formName:"snsAnnouncementsForm",url:hostUrl+"rest/snsTopic/save.json",success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?(G_msg_pop(a.ResMsg.message),Queue.doBackFN()):G_resMsg_Timeout_sns(a.ResMsg)}};G_ajax_abs_save(b)},ajax_sns_snsTopic_show:function(b){$.AMUI.progress.start();$.ajax({type:"GET",url:hostUrl+"rest/snsTopic/"+b+".json",dataType:"json",async:!0,success:function(a){$.AMUI.progress.done();if("success"==a.ResMsg.status){var b=a.data.create_useruuid==Store.getUserinfo().uuid;React.render(React.createElement(sns_snsTopicshow,{dianZan:a.dianZan,canEdit:b,data:a.data,isFavor:a.isFavor,itemList:a.itemList,voteItem_uuid:a.voteItem_uuid,share_url:a.share_url,count:a.count}),G_get_div_second())}else alert("\u52a0\u8f7d\u6570\u636e\u5931\u8d25\uff1a"+a.ResMsg.message)},error:G_ajax_error_fn})},ajax_sns_reply_list:function(b,a,c,f,d,e){c||(c=1);c=71==f?hostUrl+"rest/snsReply/listPageByTopic.json?topic_uuid\x3d"+b+"\x26pageNo\x3d"+c+"\x26sort\x3d"+(1==d?"recent":2==d?"hot":"oldest"):hostUrl+"rest/snsReply/listPageByReply.json?reply_uuid\x3d"+b+"\x26pageNo\x3d"+c;$.AMUI.progress.start();$.ajax({type:"GET",url:c,dataType:"json",async:!1,success:function(c){$.AMUI.progress.done();"success"==c.ResMsg.status?(71==f?React.render(React.createElement(Sns_reply_list_show,{snskey:d,topic_uuid:b,events:c.list,responsive:!0,bordered:!0,striped:!0,hover:!0,striped:!0}),document.getElementById(a)):React.render(React.createElement(Sns_pinglun_list,{snskey:d,events:c.list,responsive:!0,bordered:!0,striped:!0,hover:!0,striped:!0}),document.getElementById(a)),"function"==typeof e&&e(c.list)):alert(c.ResMsg.message)},error:G_ajax_error_fn})},ajax_sns_reply_save:function(b,a){a||(a="snsClassnewsreplyForm");G_ajax_abs_save({formName:a,url:hostUrl+"rest/snsReply/save.json",success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?(G_msg_pop(a.ResMsg.message),b&&b()):G_resMsg_Timeout_sns(a.ResMsg)}})},sns_Tabs_div:function(){React.render(React.createElement(TabsSelect),G_get_div_body())},ajax_sns_dianzan:function(b,a,c){$.AMUI.progress.start();$.ajax({type:"GET",url:b,data:{uuid:a},dataType:"json",success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?"function"==typeof c&&c(a):G_resMsg_Timeout_sns(a.ResMsg)},error:G_ajax_error_fn})}}}();