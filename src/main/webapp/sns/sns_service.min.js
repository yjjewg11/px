var Modal_prompt={g_modal_prompt:"g_modal_prompt",g_modal_prompt_hd:"g_modal_prompt_hd",g_modal_prompt_bd:"g_modal_prompt_bd",modal1:null,ajax_userinfo_login:function(){var d=$("#btn_login");d.button("loading");$.AMUI.progress.start();var e=$("#login_form").serializeJson();32!=e.password.length&&(e.password=$.md5(e.password));$.ajax({type:"POST",url:hostUrl+"rest/userinfo/login.json",data:e,dataType:"json",success:function(b){d.button("reset");$.AMUI.progress.done();"success"==b.ResMsg.status?(Store.clear(),setCookie("bs_loginname",e.loginname),setCookie("bs_grouptype",e.grouptype),$("#pw_checked")[0].checked?(setCookie("bs_password",e.password),setCookie("pw_checked","checked")):(setCookie("bs_password",""),setCookie("pw_checked","")),Store.setUserinfo(b.userinfo),Store.setGroup(b.list),PxRight.setUserRights(b.S_User_rights),G_CallPhoneFN.jsessionToPhone(b.JSESSIONID),setCookie("bs_grouptype",b.S_type),G_msg_pop(b.ResMsg.message),Modal_prompt.modal1&&Modal_prompt.modal1.close()):alert(b.ResMsg.message)},error:function(b,c,a){d.button("reset");$.AMUI.progress.done();b.responseText&&b.responseText.indexOf("G_key_no_connect_server")?alert("\u6ca1\u8fde\u63a5\u4e0a\u4e92\u8054\u7f51."):alert(b.status+","+c+"\x3d"+a)}})},showLogin:function(){var d=getCookie("bs_loginname"),e=getCookie("bs_password"),b=getCookie("pw_checked");callback=function(){Sns_userinfo_login();Modal_prompt.modal1&&Modal_prompt.modal1.close()};Modal_prompt.show(React.createElement(Common_load_pop,{loginname:d,password:e,pw_checked:b}),"\u7528\u6237\u767b\u5f55",callback)},show:function(d,e,b){React.render(d,document.getElementById(Modal_prompt.g_modal_prompt_bd));$("#"+Modal_prompt.g_modal_prompt).modal({relatedTarget:document.body,closeOnConfirm:!1,onConfirm:function(c){var a=this;Modal_prompt.modal1=this;"function"==typeof b?b(function(){a.close()}):a.close()},onCancel:function(c){}})}},PxSnsService=function(){function d(c,a){"add"==c?(Queue.push(function(){d(c,a)},"\u521b\u5efa\u8bdd\u9898"),e(null)):"edit"==c?(Queue.push(function(){d(c,a)},"\u7f16\u8f91\u8bdd\u9898"),e(a)):"del"==c&&b(a)}function e(c){c?($.AMUI.progress.start(),$.ajax({type:"GET",url:hostUrl+"rest/snsTopic/"+c+".json",dataType:"json",async:!0,success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?React.render(React.createElement(Sns_snsTopic_add_edit,{formdata:a.data}),G_get_div_body()):alert("\u52a0\u8f7d\u6570\u636e\u5931\u8d25\uff1a"+a.ResMsg.message)},error:G_ajax_error_fn})):React.render(React.createElement(Sns_snsTopic_add_edit,{formdata:{section_id:"1"}}),G_get_div_body())}function b(c){confirm("\u786e\u5b9a\u8981\u5220\u9664\u5417?")&&($.AMUI.progress.start(),$.ajax({type:"POST",url:hostUrl+"rest/snsTopic/delete.json?uuid\x3d"+c,dataType:"json",async:!0,success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?Queue.doBackFN():alert(a.ResMsg.message)},error:G_ajax_error_fn}))}return{sns_snsTopic_list:function(c,a,f,b){f=1==f?"rest/snsTopic/listPage.json":2==f?"rest/snsTopic/hotListPage.json":"rest/snsTopic/topListPage.json";$.AMUI.progress.start();$.ajax({type:"GET",url:hostUrl+f,data:{pageNo:a},dataType:"json",async:!1,success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?(React.render(React.createElement(sns_list_snsTopic_rect,{events:a.list,responsive:!0,bordered:!0,striped:!0,hover:!0,striped:!0}),document.getElementById(c)),"function"==typeof b&&b(a.list)):(alert(a.ResMsg.message),G_resMsg_filter(a.ResMsg))},error:G_ajax_error_fn})},btnclick_sns_snsTopic:d,ajax_sns_snsTopic_save:function(){G_ajax_abs_save({formName:"snsAnnouncementsForm",url:hostUrl+"rest/snsTopic/save.json",success:function(c){$.AMUI.progress.done();"success"==c.ResMsg.status?(G_msg_pop(c.ResMsg.message),Queue.doBackFN()):G_resMsg_Timeout(c.ResMsg)}})},ajax_sns_snsTopic_show:function(c){$.AMUI.progress.start();$.ajax({type:"GET",url:hostUrl+"rest/snsTopic/"+c+".json",dataType:"json",async:!0,success:function(a){$.AMUI.progress.done();if("success"==a.ResMsg.status){var c=a.data.create_useruuid==Store.getUserinfo().uuid;React.render(React.createElement(sns_snsTopicshow,{dianZan:a.dianZan,canEdit:c,data:a.data,isFavor:a.isFavor,share_url:a.share_url,count:a.count}),G_get_div_second())}else alert("\u52a0\u8f7d\u6570\u636e\u5931\u8d25\uff1a"+a.ResMsg.message)},error:G_ajax_error_fn})},ajax_sns_reply_list:function(c,a,b,e,d,g){b||(b=1);b=71==e?hostUrl+"rest/snsReply/listPageByTopic.json?topic_uuid\x3d"+c+"\x26pageNo\x3d"+b+"\x26sort\x3d"+(1==d?"recent":2==d?"hot":"oldest"):hostUrl+"rest/snsReply/listPageByReply.json?reply_uuid\x3d"+c+"\x26pageNo\x3d"+b;$.AMUI.progress.start();$.ajax({type:"GET",url:b,dataType:"json",async:!1,success:function(b){$.AMUI.progress.done();"success"==b.ResMsg.status?(71==e?React.render(React.createElement(Sns_reply_list_show,{snskey:d,topic_uuid:c,events:b.list,responsive:!0,bordered:!0,striped:!0,hover:!0,striped:!0}),document.getElementById(a)):React.render(React.createElement(Sns_pinglun_list,{snskey:d,events:b.list,responsive:!0,bordered:!0,striped:!0,hover:!0,striped:!0}),document.getElementById(a)),"function"==typeof g&&g(b.list)):alert(b.ResMsg.message)},error:G_ajax_error_fn})},ajax_sns_reply_save:function(b,a){a||(a="snsClassnewsreplyForm");G_ajax_abs_save({formName:a,url:hostUrl+"rest/snsReply/save.json",success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?(G_msg_pop(a.ResMsg.message),b&&b()):G_resMsg_Timeout(a.ResMsg)}})},sns_Tabs_div:function(){React.render(React.createElement(TabsSelect),G_get_div_body())},ajax_sns_dianzan:function(b,a,d){$.AMUI.progress.start();$.ajax({type:"GET",url:b,data:{uuid:a},dataType:"json",success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?"function"==typeof d&&d(a):G_resMsg_Timeout(a.ResMsg)},error:G_ajax_error_fn})}}}();