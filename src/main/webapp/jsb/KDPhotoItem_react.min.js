var KDPhotoItem=function(){React.createClass({displayName:"Query_stutent_list_byRight",getInitialState:function(){return this.getStateByPropes(this.props)},getStateByPropes:function(a){var b=Store.getChooseClass(a.group_uuid),b=G_selected_dataModelArray_byArray(b,"uuid","name");b.unshift({value:"",label:"\u6240\u6709"});var c=G_selected_dataModelArray_byArray(Vo.getTypeList("student_status"),"key","val");c.unshift({value:"",label:"\u6240\u6709"});a.status_list=c;a.group_list.unshift({value:"",label:"\u6240\u6709"});return{queryForm:{status:"",classuuid:"",name:"",groupuuid:a.group_uuid},pageNo:1,classList:b,type:a.type,list:[]}},componentWillReceiveProps:function(a){this.setState(this.getStateByPropes(a))},handleChange_selectgroup:function(a){this.state.groupuuid=a;a=Store.getChooseClass(a);this.state.classList=G_selected_dataModelArray_byArray(a,"uuid","name");this.state.classList.unshift({value:"",label:"\u6240\u6709"});this.handleChange()},handleChange:function(){var a=$("#queryForm").serializeJson();this.state.queryForm=a;this.setState(this.state)},pageClick:function(a){var b=this.state;"pre"==a?2>b.pageNo?G_msg_pop("\u7b2c\u4e00\u9875\u4e86"):(--b.pageNo,this.ajax_list(b)):"next"==a&&(b.list&&0!=b.list.length?(b.pageNo+=1,this.ajax_list(b)):G_msg_pop("\u6700\u540e\u4e00\u9875\u4e86"))},handleClick_query:function(a){this.state.pageNo=1;this.ajax_list()},componentDidMount:function(){this.ajax_list()},ajax_list:function(){var a=this.state.queryForm;a.pageNo=this.state.pageNo;$.AMUI.progress.start();var b=this;$.ajax({type:"GET",url:hostUrl+"rest/student/querybyRight.json",data:a,dataType:"json",success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?b.ajax_callback(a.list):(alert(a.ResMsg.message),G_resMsg_filter(a.ResMsg))},error:G_ajax_error_fn})},ajax_callback:function(a){this.state.list=null==a?[]:a.data;"1"==this.state.pageNo&&(this.state.totalCount=a.totalCount);this.setState(this.state)},render:function(){var a=this.state.queryForm;this.state.totalCount||(this.state.totalCount=0);this.state.sum_num||(this.state.sum_num=0);return React.createElement("div",null,React.createElement(G_px_help_List,{data:G_kd_help_msg.msg_help_list16}),React.createElement(AMR_Panel,null,React.createElement(AMR_ButtonToolbar,null,React.createElement("div",{className:"am-fl am-margin-bottom-sm am-margin-left-xs"},React.createElement(AMR_Button,{amStyle:"default",onClick:this.pageClick.bind(this,"pre")},"\u4e0a\u4e00\u9875")),React.createElement("div",{className:"am-fl am-margin-bottom-sm am-margin-left-xs"},React.createElement(AMR_Button,{amStyle:"default",disabled:"false"},"\u5171",this.state.totalCount,"\u6761,\u7b2c",this.state.pageNo,"\u9875")),React.createElement("div",{className:"am-fl am-margin-bottom-sm am-margin-left-xs"},React.createElement(AMR_Button,{amStyle:"default",onClick:this.pageClick.bind(this,"next")},"\u4e0b\u4e00\u9875")))),React.createElement("form",{id:"queryForm",method:"post",className:"am-form",action:"javascript:void(0);"},React.createElement("div",{className:"am-fl am-margin-bottom-xs am-margin-left-xs"},React.createElement(AMUIReact.Selected,{className:"am-fl",name:"groupuuid",onChange:this.handleChange_selectgroup,btnWidth:"200",placeholder:"\u6240\u6709",multiple:!1,data:this.props.group_list,btnStyle:"primary",value:a.groupuuid})),React.createElement("div",{className:"am-fl am-margin-bottom-xs am-margin-left-xs"},React.createElement(AMUIReact.Selected,{className:"am-fl",name:"classuuid",onChange:this.handleChange,btnWidth:"200",placeholder:"\u6240\u6709",multiple:!1,data:this.state.classList,btnStyle:"primary",value:a.classuuid})),React.createElement("div",{className:"am-fl am-margin-bottom-xs am-margin-left-xs"},React.createElement(AMUIReact.Selected,{className:"am-fl",name:"status",onChange:this.handleChange,btnWidth:"200",placeholder:"\u6240\u6709",multiple:!1,data:this.props.status_list,btnStyle:"primary",value:a.status})),React.createElement("div",{className:"am-fl am-margin-bottom-xs am-margin-left-xs"},React.createElement("input",{type:"text",name:"name",value:a.name,onChange:this.handleChange,placeholder:"\u5b66\u751f\u59d3\u540d"}))),React.createElement("div",{className:"am-fl am-margin-bottom-xs am-margin-left-xs"},React.createElement("button",{type:"button",onClick:this.handleClick_query,className:"am-btn am-btn-primary"},"\u641c\u7d22")),React.createElement(AMR_Table,React.__spread({},this.props),React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"\u59d3\u540d"),React.createElement("th",null,"\u6635\u79f0"),React.createElement("th",null,"\u6027\u522b"),React.createElement("th",null,"\u72b6\u6001"),React.createElement("th",null,"\u51fa\u751f\u65e5\u671f"),React.createElement("th",null,"\u73ed\u7ea7"),React.createElement("th",null,"\u8eab\u4efd\u8bc1"))),React.createElement("tbody",null,this.state.list.map(function(a){return React.createElement(Query_EventRow_byRight,{key:a.uuid,event:a})}))))}});return{group_uuid:null,query:function(){}}}();