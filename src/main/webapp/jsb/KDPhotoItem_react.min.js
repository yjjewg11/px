var KDPhotoItem=function(c){var f=React.createClass({displayName:"Query_photo_rect",handleChange_selectgroup_uuid:function(b){ajax_class_listByGroup_byRight(b)},handleClick:function(){React.render(React.createElement(e,{groupuuid:this.props.group_uuid,classuuid:this.props.class_uuid}),G_get_div_body())},render:function(){return React.createElement("div",null,React.createElement(G_px_help_List,{data:G_kd_help_msg.msg_help_list12}),React.createElement(AMR_Panel,null,React.createElement(AMR_ButtonToolbar,null,React.createElement(AMUIReact.Selected,{id:"selectclassuuid",placeholder:"\u73ed\u7ea7\u5207\u6362",name:"classuuid",onChange:this.handleChange_selectgroup_uuid,btnWidth:"200",multiple:!1,data:this.props.classList,btnStyle:"primary",value:this.props.classuuid}),React.createElement(AMR_Button,{amSize:"xs",amStyle:"secondary",onClick:this.handleClick.bind()},"\u4e0a\u4f20\u7167\u7247"))))}}),e=React.createClass({displayName:"Img_photo_rect",ajax_list_Click:function(b){$.ajax({type:"POST",url:hostUrl+"rest/kDPhotoItem/upload.json",dataType:"json",success:function(a){"success"==a.ResMsg.status?menu_photo_fn(a.classuuid):alert("\u52a0\u8f7d\u6570\u636e\u5931\u8d25\uff1a"+a.ResMsg.message)},error:G_ajax_error_fn})},buttion_black_Click:function(b){menu_photo_fn(b.classuuid)},imgDivNum:0,getNewImgDiv:function(){this.imgDivNum++;return"Classnews_edit_"+this.imgDivNum},addShowImg:function(b){var a=this.getNewImgDiv();$("#show_imgList").append("\x3cdiv id\x3d'"+a+"'\x3e\u52a0\u8f7d\u4e2d...\x3c/div\x3e");React.render(React.createElement(ClassNews_Img_canDel,{url:b,parentDivId:a}),document.getElementById(a))},componentDidMount:function(){this.editor=$("#classnews_content").xheditor(xhEditor_classnews_emot);var b=this;w_img_upload_nocut.bind_onchange("#file_img_upload",function(a,d){b.addShowImg(a)});if($("#imgs").val())for(var a=$("#imgs").val().split(","),d=0;d<a.length;d++)this.addShowImg(a[d])},render:function(){var b=this.props;return React.createElement("div",null,React.createElement("hr",null),React.createElement(AMR_ButtonToolbar,null,React.createElement(AMR_Button,{amSize:"xs",amStyle:"secondary",onClick:this.ajax_list_Click.bind(this)},"\u786e\u5b9a\u4e0a\u4f20"),React.createElement(AMR_Button,{amSize:"xs",amStyle:"secondary",onClick:this.buttion_black_Click.bind(this,b)},"\u8fd4\u56de")),React.createElement("h4",null,"\u56fe\u7247\u9884\u89c8\uff1a"),React.createElement("div",{id:"show_imgList"}),React.createElement("br",null),React.createElement("div",{className:"cls"}),G_get_upload_img_Div())}});return{group_uuid:null,query:function(){var b=Store.getGroup();this.group_uuid||(this.group_uuid=b[0].uuid);var a=Store.getChooseClass(this.group_uuid);c||(c=a&&0!=a.length?a[0].uuid:null);console.log("\u9006\u5929",a,c);$.ajax({type:"GET",url:hostUrl+"rest/kDPhotoItem/queryMy.json",data:{class_uuid:c},dataType:"json",success:function(b){"success"==b.ResMsg.status?React.render(React.createElement(f,{groupuuid:this.group_uuid,classList:G_selected_dataModelArray_byArray(a,"uuid","brand_name"),classuuid:c}),G_get_div_body()):alert("\u52a0\u8f7d\u6570\u636e\u5931\u8d25\uff1a"+b.ResMsg.message)},error:G_ajax_error_fn})}}}();