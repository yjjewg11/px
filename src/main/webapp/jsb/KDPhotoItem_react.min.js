var KDPhotoItem=function(f){var e=React.createClass({displayName:"Query_photo_rect",handleChange_selectgrou_uuid:function(a){menu_photo_fn(a)},handleClick:function(a){React.render(React.createElement(d,{formdata:a}),G_get_div_body())},render:function(){var a={groupuuid:this.props.groupuuid,class_uuid:this.props.class_uuid};return React.createElement("div",null,React.createElement(G_px_help_List,{data:G_kd_help_msg.msg_help_list12}),React.createElement(AMR_Panel,null,React.createElement(AMR_ButtonToolbar,null,React.createElement(AMUIReact.Selected,{id:"classuuid",name:"classuuid",placeholder:"\u73ed\u7ea7\u5207\u6362",onChange:this.handleChange_selectgroup_uuid,btnWidth:"200",multiple:!1,data:this.props.classList,btnStyle:"primary",value:this.props.class_uuid}),React.createElement(AMR_Button,{amSize:"xs",amStyle:"secondary",onClick:this.handleClick.bind(this,a)},"\u4e0a\u4f20\u7167\u7247"))))}}),d=React.createClass({displayName:"Img_photo_rect",buttion_black_Click:function(a){menu_photo_fn(a.class_uuid)},imgDivNum:0,getNewImgDiv:function(){this.imgDivNum++;return"Classnews_edit_"+this.imgDivNum},addShowImg:function(a){var b=this.getNewImgDiv();$("#show_imgList").append("\x3cdiv id\x3d'"+b+"'\x3e\u52a0\u8f7d\u4e2d...\x3c/div\x3e");React.render(React.createElement(ClassNews_Img_canDel,{url:a,parentDivId:b}),document.getElementById(b))},componentDidMount:function(){this.editor=$("#classnews_content").xheditor(xhEditor_classnews_emot);var a=this;w_img_upload_nocut.bind_onchange("#file_img_upload",function(b,c){a.addShowImg(b)});if($("#imgs").val())for(var b=$("#imgs").val().split(","),c=0;c<b.length;c++)this.addShowImg(b[c])},ajax_uploadByphone:function(a){$.AMUI.progress.start();$.ajax({type:"POST",url:hostUrl+"rest/fPPhotoItem/uploadBase64.json",timeout:0,dataType:"json",data:{groupuuid:w_img_upload_nocut.groupuuid,type:w_img_upload_nocut.type,base64:a},async:!0,success:function(a){$.AMUI.progress.done();"success"==a.ResMsg.status?w_img_upload_nocut.callbackFN&&(w_img_upload_nocut.callbackFN(a.imgUrl,a.data.uuid),w_img_upload_nocut.do_lrz()):alert(a.ResMsg.message)},error:G_ajax_error_fn})},render:function(){var a=this.props.formdata;return React.createElement("div",null,React.createElement("div",{className:"header"},React.createElement("hr",null)),React.createElement("div",{className:"am-g"},React.createElement("form",{id:"KdPhotoForm",method:"post",className:"am-form"},React.createElement("input",{type:"hidden",name:"group_uuid",value:a.groupuuid}),React.createElement(AMR_ButtonToolbar,null,React.createElement(AMR_Button,{amSize:"xs",amStyle:"secondary",onClick:this.buttion_black_Click.bind(this,a)},"\u8fd4\u56de"))),React.createElement("div",{id:"show_imgList"}),React.createElement("br",null),React.createElement("div",{className:"cls"}),React.createElement(AMR_Input,{type:"file",label:"",id:"file_img_upload",help:"\u9009\u62e9\u56fe\u7247",accept:"image/*",capture:"camera",multiple:!0})))}});return{group_uuid:null,query:function(a){var b=Store.getGroup();this.group_uuid||(this.group_uuid=b[0].uuid);var c=Store.getChooseClass(this.group_uuid);a||(a=c&&0!=c.length?c[0].uuid:null);var d=this;$.ajax({type:"GET",url:hostUrl+"rest/kDPhotoItem/queryMy.json",data:{class_uuid:a},dataType:"json",success:function(b){"success"==b.ResMsg.status?React.render(React.createElement(e,{groupuuid:d.group_uuid,classList:G_selected_dataModelArray_byArray(c,"uuid","name"),class_uuid:a}),G_get_div_body()):alert("\u52a0\u8f7d\u6570\u636e\u5931\u8d25\uff1a"+b.ResMsg.message)},error:G_ajax_error_fn})}}}();