var Tabs=AMUIReact.Tabs,replyEditor=null,reply_callback_save=null,Common_load_pop=React.createClass({displayName:"Common_load_pop",getInitialState:function(){return this.props},handleChange:function(a){a=$("#login_form").serializeJson();a.pw_checked=$("#pw_checked").prop("checked")?"checked":"";this.setState(a)},handle_onKeyDown:function(a){if(G_isKeyDown_enter(a))return!1},handleChange_group_type_data:function(a){window.location.replace(a)},render:function(){var a=this.state;return React.createElement("div",null,React.createElement("div",{className:"header"},React.createElement("div",{className:"am-g"},React.createElement("img",{src:hostUrl+"i/denglulogo.png",width:"100px",height:"100px"}))),React.createElement("div",{className:"am-g"},React.createElement("div",{className:"am-u-lg-6 am-u-md-8 am-u-sm-centered am-margin-top-sm"},React.createElement("form",{id:"login_form",method:"post",className:"am-form",onKeyDown:this.handle_onKeyDown},React.createElement("input",{type:"hidden",name:"grouptype",value:"3"}),React.createElement(PxInput,{icon:"mobile",type:"text",name:"loginname",id:"loginname",value:a.loginname,onChange:this.handleChange}),React.createElement(PxInput,{icon:"lock",type:"password",name:"password",id:"password",value:a.password,onChange:this.handleChange}),React.createElement("label",{htmlFor:"pw_checked"},React.createElement("input",{id:"pw_checked",name:"pw_checked",type:"checkbox",checked:"checked"==a.pw_checked?"checked":"",onChange:this.handleChange}),"\u8bb0\u4f4f\u5bc6\u7801")))))}}),Sns_Div=React.createClass({displayName:"Sns_Div",load_more_btn_id:"load_more_",pageNo:1,classnewsreply_list_div:"am-list-news-bd",componentWillReceiveProps:function(a){this.refresh_data()},componentDidMount:function(){this.refresh_data()},load_more_data:function(){$("#"+this.classnewsreply_list_div).append("\x3cdiv id\x3d"+this.classnewsreply_list_div+this.pageNo+"\x3e\u52a0\u8f7d\u4e2d...\x3c/div\x3e");var a=this;PxSnsService.sns_snsTopic_list(this.classnewsreply_list_div+this.pageNo,this.pageNo,a.props.snsKey,function(b){b&&(b.data.length<b.pageSize?$("#"+a.load_more_btn_id).hide():$("#"+a.load_more_btn_id).show(),a.pageNo++)})},refresh_data:function(){this.forceUpdate();this.pageNo=1;$("#"+this.classnewsreply_list_div).html("");this.load_more_data()},handleClick:function(a){PxSnsService.btnclick_sns_snsTopic(a)},render:function(){this.classnewsreply_list_div="snstopicList_"+this.props.snsKey;this.load_more_btn_id="load_more_"+this.props.snsKey;var a=null;"undefined"==typeof SnsIndexPage&&(a=React.createElement(AMR_ButtonToolbar,null,React.createElement(AMR_Button,{amStyle:"secondary",onClick:this.handleClick.bind(this,"add")},"\u521b\u5efa\u8bdd\u9898")));return React.createElement("div",{"data-am-widget":"list_news",className:"am-list-news am-list-news-default"},a,React.createElement("div",{id:this.classnewsreply_list_div,className:"am-list-news-bd"}),React.createElement("div",{className:"am-list-news-ft"},React.createElement("a",{className:"am-list-news-more am-btn am-btn-default ",id:this.load_more_btn_id,onClick:this.load_more_data.bind(this)},"\u67e5\u770b\u66f4\u591a \u00bb")))}}),sns_list_snsTopic_rect=React.createClass({displayName:"sns_list_snsTopic_rect",render:function(){var a,b=hostUrlCDN+"i/fine1.png",c=hostUrlCDN+"i/hot1.png";return React.createElement("div",{"data-am-widget":"list_news",className:"am-list-news am-list-news-default"},React.createElement("div",{className:"am-list-news-bd"},React.createElement("ul",{className:"am-list"},this.props.events.data.map(function(d){d.imgList||(d.imgList=[]);a=d.imgList.length;return React.createElement("li",{className:"am-g am-list-item-dated",onClick:PxSnsService.ajax_sns_snsTopic_show.bind(this,d.uuid)},React.createElement("a",{href:"javascript:void(0);",className:"am-list-item-hd snsTopic_list_title"},React.createElement(AMUIReact.Image,{width:"28",height:"28",className:9==d.level?"am-show":"am-hide",id:"img_head_image",src:b}),React.createElement(AMUIReact.Image,{width:"28",height:"28",className:1==d.level?"am-show":"am-hide",id:"img_head_image",src:c}),d.title),React.createElement("div",{className:"am-list-item-text"},React.createElement("h4",null,d.summary)),d.imgList.map(function(b){return React.createElement(AMUIReact.Image,{className:0==a?"am-hide":"am-show",id:"img_head_image",thumbnail:!0,width:"88",height:"88",src:b})}),React.createElement("div",{className:"am-list-item-text"},"\u4f5c\u8005\uff1a",d.create_user," |  \u70b9\u8d5e  ",d.yes_count,"  |  \u6709",d.reply_count,"\u4eba\u56de\u590d  |   ",React.createElement("time",null,GTimeShow.getYMD(d.create_time))))}))))}}),Sns_snsTopic_add_edit=React.createClass({displayName:"Sns_snsTopic_add_edit",getInitialState:function(){this.props.formdata.itemList=this.props.itemList;this.props.formdata.input_count=0;return this.props.formdata},handleChange:function(a){this.setState($("#snsAnnouncementsForm").serializeJson())},handleChange_Select:function(a){this.state.section_id=a;10==this.state.section_id&&SnsitemListObj.init(this.state.itemList);this.setState(this.state)},componentDidMount:function(){var a=$("#announce_message").xheditor(xhEditor_upImgOption_mfull);this.editor=a;w_img_upload_nocut.bind_onchange("#file_img_upload",function(b){a.pasteHTML('\x3cimg width\x3d"100%" style\x3d"margin: 5px;"  src\x3d"'+b+'"/\x3e')});10==this.state.section_id&&SnsitemListObj.init(this.state.itemList)},preview_fn:function(){G_html_preview("t_iframe",this.state.url,this.editor.getSource(),this.state.title)},render:function(){var a=this.state;a.section_id||(a.section_id="1");var b=React.createElement("div",null),c=G_selected_dataModelArray_byArray(Vo.getTypeList("snstopic_type"),"key","val");10==a.section_id&&(b=React.createElement(AMR_ButtonToolbar,null,React.createElement("button",{type:"button",onClick:SnsitemListObj.add_item.bind(SnsitemListObj),className:"am-btn am-btn-primary"},"\u6dfb\u52a0\u6295\u7968\u9009\u9879")));return React.createElement("div",null,React.createElement("div",{className:"header"},React.createElement("hr",null)),React.createElement("div",{className:"am-u-lg-6 am-u-sm-12"},React.createElement("form",{id:"snsAnnouncementsForm",method:"post",className:"am-form"},React.createElement("input",{type:"hidden",name:"uuid",value:a.uuid}),React.createElement("label",{className:"am-u-lg-2 am-u-md-2 am-u-sm-4 am-form-label"},"\u5206\u7c7b:"),React.createElement("div",{className:"am-u-lg-10 am-u-md-10 am-u-sm-8"},React.createElement("div",{className:"am-form-group"},React.createElement(AMUIReact.Selected,{className:"data-am-selected",btnStyle:"data-am-selected",name:"section_id",onChange:this.handleChange_Select,btnWidth:"200",data:c,value:a.section_id+""}))),React.createElement("label",{className:"am-u-lg-2 am-u-md-2 am-u-sm-4 am-form-label"},"\u6807\u9898:"),React.createElement("div",{className:"am-u-lg-10 am-u-md-10 am-u-sm-8"},React.createElement(PxInput,{type:"text",name:"title",id:"title",value:a.title,onChange:this.handleChange,maxLength:"128",placeholder:"\u4e0d\u8d85\u8fc7128\u4f4d"})),React.createElement(AMR_Input,{id:"announce_message",type:"textarea",rows:"10",label:"\u5185\u5bb9:",placeholder:"\u586b\u5199\u5185\u5bb9",name:"content",value:a.content,onChange:this.handleChange}),React.createElement("div",{id:SnsitemListObj.divId_addButton},"   "),b,React.createElement(AMR_ButtonToolbar,null,G_get_upload_img_Div(),React.createElement("button",{type:"button",onClick:PxSnsService.ajax_sns_snsTopic_save.bind(this),className:"am-btn am-btn-primary"},"\u63d0\u4ea4"),React.createElement("button",{type:"button",onClick:this.preview_fn.bind(this),className:"am-btn am-btn-primary"},"\u9884\u89c8")))),React.createElement("div",{className:"am-u-lg-6 am-u-sm-12 "},React.createElement(G_phone_iframe,null)))}}),SnsitemListObj={divId_addButton:"snstopic_itemList_addButton",ind:0,getData:function(){var a=[],b=0;$("input[name\x3d'snstopic_itemList_item_title']").each(function(){var c=this.title.split("_"),c={title:this.value,ind:++b,uuid:c[0]};a.push(c)});return a},addItemDiv:function(a){var b=this.divId_addButton+a.ind;$("#"+this.divId_addButton).append("\x3cdiv id\x3d"+b+"\x3e\u52a0\u8f7d\u4e2d...\x3c/div\x3e");React.render(React.createElement(Sns_snsTopic_itemList_item,{formdata:a,parentDivId:b,delItem:this.delItem}),document.getElementById(this.divId_addButton+a.ind))},delItem:function(a,b){if(confirm("\u786e\u5b9a\u8981\u5220\u9664\u5417?"))if(a.uuid)$.ajax({type:"POST",url:hostUrl+"rest/snsTopicVoteItem/delete.json",data:{uuid:a.uuid},dataType:"json",success:function(a){"success"==a.ResMsg.status?($("#"+b).remove(),a=SnsitemListObj.getData(),SnsitemListObj.init(a)):alert("\u52a0\u8f7d\u6570\u636e\u5931\u8d25\uff1a"+a.ResMsg.message)},error:G_ajax_error_fn});else{$("#"+b).remove();var c=SnsitemListObj.getData();SnsitemListObj.init(c)}},add_item:function(){var a={title:"",ind:++this.ind,uuid:""};this.addItemDiv(a)},init:function(a){$("#"+this.divId_addButton).html("");(this.dataList=a)?this.ind=this.dataList.length:(this.dataList=[],this.ind=0,this.add_item(),this.add_item());for(a=0;a<this.dataList.length;a++)this.addItemDiv(this.dataList[a])}},Sns_snsTopic_itemList_item=React.createClass({displayName:"Sns_snsTopic_itemList_item",getInitialState:function(){var a=this.props.formdata;this.input_id="snstopic_itemList_item_title"+a.ind;return a},handleChange:function(a){this.state.title=$("#"+this.input_id).val();this.setState(this.state)},componentDidMount:function(){},render:function(){var a=this.state,b=React.createElement("div",null);2<a.ind&&(b=React.createElement(AMR_ButtonToolbar,null,React.createElement("button",{type:"button",onClick:this.props.delItem.bind(this,a,this.props.parentDivId),className:"am-btn am-btn-primary"},"\u5220\u9664")));return React.createElement("div",null,React.createElement("label",null,"\u9009\u9879"+a.ind+":"),React.createElement(PxInput,{type:"text",title:a.uuid+"_"+a.ind,name:"snstopic_itemList_item_title",id:this.input_id,value:a.title,onChange:this.handleChange,maxLength:"128",placeholder:"\u4e0d\u8d85\u8fc7128\u4f4d"}),b)}}),sns_snsTopicshow=React.createClass({displayName:"sns_snsTopicshow",componentDidMount:function(){$("html,body").animate({scrollTop:0},200)},handleClick:function(a,b){PxSnsService.btnclick_sns_snsTopic(a,b)},sns_toupiaobtn_handleClick:function(a){var b=null,c=a[0].topic_uuid;$($("input[name\x3d'table_checkbox']")).each(function(){this.checked&&(b=null==b?this.value:b+(","+this.value))});b?$.ajax({type:"GET",url:hostUrl+"rest/snsTopicVoteItem/updateVote.json",data:{topic_uuid:c,item_uuid:b},dataType:"json",success:function(a){"success"==a.ResMsg.status?($("#snsShow").html(""),PxSnsService.ajax_sns_snsTopic_show(c)):alert("\u52a0\u8f7d\u6570\u636e\u5931\u8d25\uff1a"+a.ResMsg.message)},error:G_ajax_error_fn}):alert("\u8bf7\u9009\u62e9\u4e00\u4e2a\u6295\u7968")},render:function(){var a=this.props.data,b=0,c=this.props.itemList;c||(c=[]);var d={title:a.title,content:a.content,uuid:a.uuid,status:this.props.dianZan,yes_count:a.yes_count,no_count:a.no_count,isFavor:this.props.isFavor},e="G_Edit_hide";this.props.canEdit&&(e="G_Edit_show");this.divId_SnsButton="SnsButton_box";for(var f=React.createElement("div",null),g=React.createElement("div",null),h=0;h<c.length;h++)b+=parseInt(c[h].vote_count);10!=a.section_id?f=React.createElement("div",null,React.createElement(TabSnsTopicSelect,{uuid:a.uuid,type:71,url:this.props.share_url}),React.createElement(Sns_ajax_reply_save,{uuid:a.uuid,type:71})):this.props.voteItem_uuid?(g=React.createElement("div",null,React.createElement("h3",null,"(\u603b\u6295\u7968\u4eba\u6570\uff1a",b,")\u6295\u7968\u7ed3\u679c:"),React.createElement("hr",null),this.props.itemList.map(function(a){return React.createElement("div",null,React.createElement("h3",null,"\u9009\u9879",a.ind,":",a.title,"(\u6295\u7968\u4eba\u6570",a.vote_count,")"))})),f=React.createElement("div",null,React.createElement(TabSnsTopicSelect,{uuid:a.uuid,type:71,url:this.props.share_url}),React.createElement(Sns_ajax_reply_save,{uuid:a.uuid,type:71}))):g=React.createElement("div",null,React.createElement("h3",null,"\u6295\u7968\u9009\u9879:"),React.createElement("hr",null),React.createElement("form",{className:"am-form","data-am-validator":!0},this.props.itemList.map(function(a){return React.createElement("div",null,React.createElement("label",null,React.createElement("input",{type:"radio",name:"table_checkbox",value:a.uuid})," ",a.title))})),React.createElement(AMR_ButtonToolbar,null,React.createElement(AMR_Button,{type:"submit",onClick:this.sns_toupiaobtn_handleClick.bind(this,this.props.itemList),className:"am-btn am-btn-primary"},"\u6295\u7968\u63d0\u4ea4")));return React.createElement("div",{id:"snsShow",className:"max_with_lg px_margin_div"},React.createElement("article",{className:"am-article px_margin_div"},React.createElement("div",{className:"am-article-hd"},React.createElement("h1",{className:"am-article-title text-align_center "},a.title),React.createElement("p",{className:"am-article-meta am-text-default text-align_center "},GTimeShow.getYMD(a.create_time)+" | "+a.create_user+" |",React.createElement("i",{className:"am-icon-thumbs-up am-margin-sm "},a.yes_count),"|",React.createElement("i",{className:"am-icon-thumbs-down  am-margin-sm"}," ",a.no_count)," | \u8bc4\u8bba"+a.reply_count+" | \u6d4f\u89c8"+this.props.count)),React.createElement("div",{className:"am-article-bd ",dangerouslySetInnerHTML:{__html:a.content}}),g),React.createElement("hr",null),React.createElement(AMR_ButtonToolbar,null,React.createElement(AMR_Button,{className:e,amStyle:"primary",onClick:this.handleClick.bind(this,"edit",a.uuid)},"\u7f16\u8f91"),React.createElement(AMR_Button,{className:e,amStyle:"danger",onClick:this.handleClick.bind(this,"del",a.uuid)},"\u5220\u9664")),React.createElement(Sns_comment_actions,{data:d,url:this.props.share_url}),f)}}),Sns_comment_actions=React.createClass({displayName:"Sns_comment_actions",getInitialState:function(){if(this.props.data)return this.props.data},callback_yes:function(a){a=this.state;1==a.status?(--a.yes_count,a.status=null):(a.yes_count+=1,a.status=1);this.setState(a)},yes_click:function(a){if(2!=a.status){var b=hostUrl+"rest/snsTopic/yes.json";1==a.status&&(b=hostUrl+"rest/snsTopic/cancelDianzan.json");PxSnsService.ajax_sns_dianzan(b,a.uuid,this.callback_yes)}},callback_no:function(){var a=this.state;2==a.status?(--a.no_count,a.status=null):(a.no_count+=1,a.status=2);this.setState(a)},no_click:function(a){if(1!=a.status){var b=hostUrl+"rest/snsTopic/no.json";2==a.status&&(b=hostUrl+"rest/snsTopic/cancelDianzan.json");PxSnsService.ajax_sns_dianzan(b,a.uuid,this.callback_no)}},favorites_push:function(a){if(0!=a.isFavor){var b=this.props.url;a.isFavor=!1;this.setState(a);commons_ajax_favorites_push(a.title,71,a.uuid,b)}},gogogo:function(){$("html,body").animate({scrollTop:$(document.body).height()},200);replyEditor&&replyEditor.focus()},render:function(){var a=this.state,b="",c="";1==a.status?(b="px-icon-hasdianzan",c=""):2==a.status&&(c="px-icon-hasdianzan",b="");return React.createElement("footer",{className:"am-comment-footer"},React.createElement("div",{className:"am-comment-actions am-cf"},React.createElement("a",{href:"javascript:void(0);",onClick:this.yes_click.bind(this,a)},React.createElement("i",{className:"am-icon-thumbs-up px_font_size_click "+b})),"\u70b9\u8d5e",a.yes_count,"\u4eba",React.createElement("a",{href:"javascript:void(0);",onClick:this.no_click.bind(this,a)},React.createElement("i",{className:"am-icon-thumbs-down px_font_size_click "+c})),"\u53cd\u5bf9",a.no_count,"\u4eba",React.createElement("a",{href:"javascript:void(0);",onClick:this.favorites_push.bind(this,a)},React.createElement("i",{className:a.isFavor?"am-icon-heart px_font_size_click":"am-icon-heart px-icon-hasdianzan px_font_size_click"}),a.isFavor?"\u6536\u85cf":"\u5df2\u6536\u85cf"),React.createElement("a",{href:"javascript:void(0);",className:G_CallPhoneFN.canShareUrl()?"":"am-hide",onClick:G_CallPhoneFN.setShareContent.bind(this,a.title,a.content,null,this.props.url)},React.createElement("i",{className:"am-icon-share-alt-square px_font_size_click"}),"\u5206\u4eab"),React.createElement("a",{href:"javascript:void(0);",onClick:this.gogogo.bind()},React.createElement("i",{className:"am-icon-reply px_font_size_click"}),"\u8bc4\u8bba"),React.createElement("a",{href:"javascript:void(0);",className:"am-fr",onClick:common_check_illegal.bind(this,71,a.uuid)},React.createElement("i",{className:"am-icon-exclamation-circle px_font_size_click"}),"\u4e3e\u62a5"),React.createElement("legend",null)))}}),TabSnsTopicSelect=React.createClass({displayName:"TabSnsTopicSelect",getInitialState:function(){return{key:"1",uuid:this.props.uuid,type:this.props.type,url:this.props.url}},componentDidMount:function(){this.loadSnsTopicList(this.state.key)},handleSelect:function(a){this.loadSnsTopicList(a)},loadSnsTopicList:function(a){var b=this.props,c;c="1"==a?"topSnsreplylist_div_1":"2"==a?"topSnsreplylist_div_2":"topSnsreplylist_div_3";React.render(React.createElement(Sns_reply_list,{uuid:b.uuid,type:b.type,url:b.url,snskey:a}),document.getElementById(c))},render:function(){return React.createElement(Tabs,{defaultActiveKey:this.state.key,onSelect:this.handleSelect},React.createElement(Tabs.Item,{eventKey:"1",title:"\u6700\u65b0\u8bc4\u8bba"},React.createElement("div",{id:"topSnsreplylist_div_1"})),React.createElement(Tabs.Item,{eventKey:"2",title:"\u70ed\u95e8\u8bc4\u8bba"},React.createElement("div",{id:"topSnsreplylist_div_2"})),React.createElement(Tabs.Item,{eventKey:"3",title:"\u6700\u65e9\u8bc4\u8bba"},React.createElement("div",{id:"topSnsreplylist_div_3"})))}}),Sns_reply_list=React.createClass({displayName:"Sns_reply_list",load_more_btn_id:"Sns_reply_list_load_more_",pageNo:1,classnewsreply_list_div:"am-list-news-bd",componentWillReceiveProps:function(a){this.refreshReplyList();var b=this;reply_callback_save=function(){b.refreshReplyList()}},componentDidMount:function(){this.refreshReplyList();var a=this;reply_callback_save=function(){a.refreshReplyList()}},load_more_data:function(){$("#"+this.classnewsreply_list_div).append("\x3cdiv id\x3d"+this.classnewsreply_list_div+this.pageNo+"\x3e\u52a0\u8f7d\u4e2d...\x3c/div\x3e");var a=this;PxSnsService.ajax_sns_reply_list(this.props.uuid,this.classnewsreply_list_div+this.pageNo,this.pageNo,this.props.type,this.props.snskey,function(b){b&&(b.data.length<b.pageSize?$("#"+a.load_more_btn_id).hide():$("#"+a.load_more_btn_id).show(),a.pageNo++)})},refreshReplyList:function(){$("#"+this.classnewsreply_list_div).html("");this.pageNo=1;this.load_more_data()},render:function(){this.load_more_btn_id="Sns_reply_list_load_more_"+this.props.snskey;this.classnewsreply_list_div="topSnsreplylist_"+this.props.snskey;return React.createElement("div",{"data-am-widget":"list_news",className:"am-list-news am-list-news-default"},React.createElement("div",{id:this.classnewsreply_list_div,className:"am-list-news-bd"}),React.createElement("div",{className:"am-list-news-ft"},React.createElement("a",{className:"am-list-news-more am-btn am-btn-default ",id:this.load_more_btn_id,onClick:this.load_more_data.bind(this)},"\u67e5\u770b\u66f4\u591a \u00bb")))}}),Sns_ajax_reply_save=React.createClass({displayName:"Sns_ajax_reply_save",classnewsreply_list_div:"classnewsreply_list_div",reply_save_btn_click:function(){PxSnsService.ajax_sns_reply_save(function(){$("#snstopic_replay_content").val("");"function"==typeof reply_callback_save&&reply_callback_save()},"snstopic_replayForm")},componentDidMount:function(){replyEditor=$("#snstopic_replay_content").xheditor(xhEditor_upImgOption_emot)},render:function(){var a=this.props.type;return React.createElement("form",{id:"snstopic_replayForm",method:"post",className:"am-form",action:"javascript:void(0);"},React.createElement("input",{type:"hidden",name:"topic_uuid",value:this.props.uuid}),React.createElement("input",{type:"hidden",name:"type",value:a}),React.createElement(AMR_Input,{id:"snstopic_replay_content",type:"textarea",rows:"4",label:"\u6211\u8981\u8bc4\u8bba",placeholder:"\u586b\u5199\u5185\u5bb9",name:"content"}),React.createElement("button",{type:"button",onClick:this.reply_save_btn_click.bind(this),className:"am-btn am-btn-primary"},"\u63d0\u4ea4"))}}),Sns_reply_list_show=React.createClass({displayName:"Sns_reply_list_show",render:function(){var a=this;return React.createElement("div",null,this.props.events.data.map(function(b){b.create_img||(b.create_img=G_def_headImgPath);return React.createElement("article",{className:"am-comment am-comment-success am-margin-xs"},React.createElement("a",{href:"javascript:void(0);"},React.createElement("img",{src:b.create_img,className:"am-comment-avatar",width:"48",height:"48"})),React.createElement("div",{className:"am-comment-main "},React.createElement("header",{className:"am-comment-hd"},React.createElement("div",{className:"am-comment-meta"},React.createElement("a",{href:"#link-to-user",className:"am-comment-author"},"\u6765\u81ea",b.create_user,"\u7684\u56de\u590d"))),React.createElement("div",{className:"am-comment-bd  am-inline"},React.createElement("div",{dangerouslySetInnerHTML:{__html:b.content}})),React.createElement(Sns_snsReply_comment_actions,{data:b,snskey:a.props.snskey,topic_uuid:a.props.topic_uuid})))}))}}),Sns_snsReply_comment_actions=React.createClass({displayName:"Sns_snsReply_comment_actions",getInitialState:function(){if(this.props.data)return this.props.data},callback_yes:function(a){a=this.state;1==a.dianZan?(--a.yes_count,a.dianZan=null):(a.yes_count+=1,a.dianZan=1);this.setState(a)},yes_click:function(a){if(2!=a.dianZan){var b=hostUrl+"rest/snsReply/yes.json";1==a.dianZan&&(b=hostUrl+"rest/snsReply/cancelDianzan.json");PxSnsService.ajax_sns_dianzan(b,a.uuid,this.callback_yes)}},callback_no:function(){var a=this.state;2==a.dianZan?(--a.no_count,a.dianZan=null):(a.no_count+=1,a.dianZan=2);this.setState(a)},no_click:function(a){if(1!=a.dianZan){var b=hostUrl+"rest/snsReply/no.json";2==a.dianZan&&(b=hostUrl+"rest/snsReply/cancelDianzan.json");PxSnsService.ajax_sns_dianzan(b,a.uuid,this.callback_no)}},pinlun:function(a,b){React.render(React.createElement(Sns_reply_reply_list_div,{uuid:a.uuid,parentThis:this,topic_uuid:this.props.topic_uuid,snskey:b,type:72}),document.getElementById(this.div_reply_save_id))},render:function(){var a=this.state,b=this.props.snskey;this.div_reply_save_id="btn_reply_save"+a.uuid+b;var c="",d="";1==a.dianZan?(c="px-icon-hasdianzan",d=""):2==a.dianZan&&(d="px-icon-hasdianzan",c="");return React.createElement("footer",{className:"am-comment-footer"},React.createElement("div",{className:"am-comment-actions  am-cf"},React.createElement("time",null,GTimeShow.getYMD(a.create_time)),React.createElement("a",{href:"javascript:void(0);",onClick:this.yes_click.bind(this,a)},React.createElement("i",{className:"am-icon-thumbs-up px_font_size_click "+c})),a.yes_count,React.createElement("a",{href:"javascript:void(0);",onClick:this.no_click.bind(this,a)},React.createElement("i",{className:"am-icon-thumbs-down px_font_size_click "+d})),a.no_count,React.createElement("a",{href:"javascript:void(0);",onClick:this.pinlun.bind(this,a,b)},React.createElement("i",{id:"btn_reply_"+a.uuid,className:"am-icon-reply px_font_size_click"}),"\u56de\u590d",a.reply_count),React.createElement("a",{href:"javascript:void(0);",className:"am-fr",onClick:common_check_illegal.bind(this,72,a.uuid)},React.createElement("i",{className:"am-icon-exclamation-circle px_font_size_click"}),"\u4e3e\u62a5"),React.createElement("div",{id:this.div_reply_save_id},"   ")))}}),Sns_reply_reply_list_div=React.createClass({displayName:"Sns_reply_reply_list_div",load_more_btn_id:"Sns_reply_reply_load_more_",pageNo:1,classnewsreply_list_div:"classnewsreply_list_div",componentDidMount:function(){this.refreshReplyList()},load_more_data:function(){$("#"+this.classnewsreply_list_div).append("\x3cdiv id\x3d"+this.classnewsreply_list_div+this.pageNo+"\x3e\u52a0\u8f7d\u4e2d...\x3c/div\x3e");var a=this;PxSnsService.ajax_sns_reply_list(this.props.uuid,this.classnewsreply_list_div+this.pageNo,this.pageNo,this.props.type,this.props.snskey,function(b){b&&(b.data.length<b.pageSize?$("#"+a.load_more_btn_id).hide():$("#"+a.load_more_btn_id).show(),a.pageNo++)})},refreshReplyList:function(){$("#"+this.classnewsreply_list_div).html("");this.pageNo=1;this.load_more_data()},render:function(){this.load_more_btn_id="Sns_reply_reply_load_more_"+this.props.uuid+this.props.snskey;this.classnewsreply_list_div="classnewsreply_list_div"+this.props.uuid+this.props.snskey;return React.createElement("div",null,React.createElement("div",{id:this.classnewsreply_list_div}),React.createElement("button",{id:this.load_more_btn_id,type:"button",onClick:this.load_more_data.bind(this),className:"am-btn am-btn-primary"},"\u52a0\u8f7d\u66f4\u591a"),React.createElement(SnsReply_reply_save,{uuid:this.props.uuid,topic_uuid:this.props.topic_uuid,type:this.props.type,parentThis:this}))}}),SnsReply_reply_save=React.createClass({displayName:"SnsReply_reply_save",classnewsreply_list_div:"classnewsreply_list_div",formid:"snsreply_replyForm",form_content_id:"form_content_id",reply_save_btn_click:function(a){var b=this.props.parentThis;PxSnsService.ajax_sns_reply_save(function(){$("#"+a).val("");b.refreshReplyList()},this.formid)},componentDidMount:function(){$("#"+this.form_content_id).xheditor(xhEditor_upImgOption_emot)},render:function(){var a=this.props.type;this.formid="snsreply_replyForm"+this.props.uuid+this.props.snskey;this.form_content_id="form_content_id"+this.props.uuid+this.props.snskey;return React.createElement("form",{id:this.formid,method:"post",className:"am-form",action:"javascript:void(0);"},React.createElement("input",{type:"hidden",name:"topic_uuid",value:this.props.topic_uuid}),React.createElement("input",{type:"hidden",name:"reply_uuid",value:this.props.uuid}),React.createElement("input",{type:"hidden",name:"type",value:a}),React.createElement(AMR_Input,{id:this.form_content_id,type:"textarea",rows:"4",label:"\u6211\u8981\u8bc4\u8bba",placeholder:"\u586b\u5199\u5185\u5bb9",name:"content"}),React.createElement("button",{type:"button",onClick:this.reply_save_btn_click.bind(this,this.form_content_id),className:"am-btn am-btn-primary"},"\u63d0\u4ea4"))}}),Sns_pinglun_list=React.createClass({displayName:"Sns_pinglun_list",render:function(){return React.createElement("div",null,this.props.events.data.map(function(a){return React.createElement("ul",{className:"am-list"},React.createElement("li",{className:"am-comment am-cf"},React.createElement("span",{className:"am-comment-author am-fl"},a.create_user+":"),React.createElement("span",{className:"am-fl",dangerouslySetInnerHTML:{__html:a.content}}),React.createElement(Sns_reply_reply_reply_actions,{data:a})))}))}}),Sns_reply_reply_reply_actions=React.createClass({displayName:"Sns_reply_reply_reply_actions",getInitialState:function(){if(this.props.data)return this.props.data},callback_yes:function(a){a=this.state;1==a.status?(--a.yes_count,a.status=null):(a.yes_count+=1,a.status=1);this.setState(a)},yes_click:function(a){if(2!=a.status){var b=hostUrl+"rest/snsReply/yes.json";1==a.status&&(b=hostUrl+"rest/snsReply/cancelDianzan.json");PxSnsService.ajax_sns_dianzan(b,a.uuid,this.callback_yes)}},callback_no:function(){var a=this.state;2==a.status?(--a.no_count,a.status=null):(a.no_count+=1,a.status=2);this.setState(a)},no_click:function(a){if(1!=a.status){var b=hostUrl+"rest/snsReply/no.json";2==a.status&&(b=hostUrl+"rest/snsReply/cancelDianzan.json");PxSnsService.ajax_sns_dianzan(b,a.uuid,this.callback_no)}},render:function(){var a=this.state,b="",c="";1==a.status?(b="px-icon-hasdianzan",c=""):2==a.status&&(c="px-icon-hasdianzan",b="");return React.createElement("footer",{className:"am-comment-footer"},React.createElement("div",{className:"am-comment-actions am-cf"},React.createElement("a",{href:"javascript:void(0);",onClick:this.yes_click.bind(this,a)},React.createElement("i",{className:"am-icon-thumbs-up px_font_size_click "+b})),a.yes_count,React.createElement("a",{href:"javascript:void(0);",onClick:this.no_click.bind(this,a)},React.createElement("i",{className:"am-icon-thumbs-down px_font_size_click "+c})),a.no_count,React.createElement("a",{href:"javascript:void(0);",className:"am-fr",onClick:common_check_illegal.bind(this,72,a.uuid)},React.createElement("i",{className:"am-icon-exclamation-circle px_font_size_click"}),"\u4e3e\u62a5")))}}),TabsSelect=React.createClass({displayName:"TabsSelect",getInitialState:function(){return{key:"1"}},componentDidMount:function(){this.loadSnsTopicList(this.state.key)},handleSelect:function(a){this.loadSnsTopicList(a)},loadSnsTopicList:function(a){var b;b="1"==a?"topiclist_div_1":"2"==a?"topiclist_div_2":"topiclist_div_3";React.render(React.createElement(Sns_Div,{snsKey:a}),document.getElementById(b))},render:function(){return React.createElement(Tabs,{defaultActiveKey:this.state.key,onSelect:this.handleSelect},React.createElement(Tabs.Item,{eventKey:"1",title:"\u6700\u65b0\u8bdd\u9898"},React.createElement("div",{id:"topiclist_div_1"})),React.createElement(Tabs.Item,{eventKey:"2",title:"\u70ed\u95e8\u8bdd\u9898"},React.createElement("div",{id:"topiclist_div_2"})),React.createElement(Tabs.Item,{eventKey:"3",title:"\u7cbe\u534e\u8bdd\u9898"},React.createElement("div",{id:"topiclist_div_3"})))}});