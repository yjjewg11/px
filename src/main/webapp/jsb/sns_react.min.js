//——————————————————————————话题<绘制>—————————————————————  

/* 
 * <话题>绘制舞台
 * @逻辑：绘制一个Div 每次点击加载更多按钮事把 新的一个Div添加到舞台上；
 * @我要发信息 加载更多等模板和按钮在此处添加上舞台 和DIV<信息>分离开；
 * @btn_click_announce:点击按钮事件跳转kd_servise方法;
 * */var Sns_good_Div_list=React.createClass({displayName:"Sns_good_Div_list",load_more_btn_id:"load_more_",pageNo:1,classnewsreply_list_div:"am-list-news-bd",componentWillReceiveProps:function(){this.load_more_data()},componentDidMount:function(){this.load_more_data()},load_more_data:function(){$("#"+this.classnewsreply_list_div).append("\x3cdiv id\x3d"+this.classnewsreply_list_div+this.pageNo+"\x3e\u52a0\u8f7d\u4e2d...\x3c/div\x3e");var a=this;PxSnsService.sns_announce_Mygoodlist(this.classnewsreply_list_div+this.pageNo,this.pageNo,function(b){b&&(b.data.length<b.pageSize?$("#"+a.load_more_btn_id).hide():$("#"+a.load_more_btn_id).show(),a.pageNo++)})},refresh_data:function(){this.forceUpdate();this.pageNo=1;$("#"+this.classnewsreply_list_div).html("");this.load_more_data()},handleClick:function(a){PxSnsService.btnclick_sns_announce(a)},render:function(){this.load_more_btn_id="load_more_"+this.props.uuid;return React.createElement("div",{"data-am-widget":"list_news",className:"am-list-news am-list-news-default"},React.createElement(AMR_ButtonToolbar,null,React.createElement(AMR_Button,{amStyle:"secondary",onClick:this.handleClick.bind(this,"add")},"\u521b\u5efa\u8bdd\u9898")),React.createElement("div",{id:this.classnewsreply_list_div,className:"am-list-news-bd"}),React.createElement("div",{className:"am-list-news-ft"},React.createElement("a",{className:"am-list-news-more am-btn am-btn-default ",id:this.load_more_btn_id,onClick:this.load_more_data.bind(this)},"\u67e5\u770b\u66f4\u591a \u00bb")))}}),sns_mygoodlist_div=React.createClass({displayName:"sns_mygoodlist_div",render:function(){for(var a=this.props.events,b=0;b<a.data.length;b++)a.data[b].create_useruuid==Store.getUserinfo().uuid?a.data[b].canEdit=!0:a.data[b].canEdit=!1;return React.createElement("div",{"data-am-widget":"list_news",className:"am-list-news am-list-news-default"},React.createElement("div",{className:"am-list-news-bd"},React.createElement("ul",{className:"am-list"},this.props.events.data.map(function(a){return React.createElement("li",{className:"am-g am-list-item-dated"},React.createElement("a",{href:"javascript:void(0);",className:"am-list-item-hd",onClick:react_ajax_announce_good_show.bind(this,a.uuid,a.title)},a.title),React.createElement(AMR_ButtonToolbar,null,React.createElement(AMR_Button,{className:1==a.canEdit?"G_Edit_show":"G_Edit_hide",amStyle:"primary",onClick:btnclick_good_announce.bind(this,"edit",a.groupuuid,a.uuid)},"\u7f16\u8f91"),React.createElement(AMR_Button,{className:1==a.canEdit?"G_Edit_show":"G_Edit_hide",amStyle:"danger",onClick:btnclick_good_announce.bind(this,"del",a.groupuuid,a.uuid)},"\u5220\u9664")),React.createElement("div",{className:"am-list-item-text"},Store.getGroupNameByUuid(a.groupuuid),"|",a.create_user,"|",a.create_time))}))))}}),Announcements_snsedit=React.createClass({displayName:"Announcements_snsedit",getInitialState:function(){return this.props.formdata},handleChange:function(a){this.setState($("#snsAnnouncementsForm").serializeJson())},componentDidMount:function(){var a=$("#announce_message").xheditor(xhEditor_upImgOption_mfull);this.editor=a;w_img_upload_nocut.bind_onchange("#file_img_upload",function(b){a.pasteHTML('\x3cimg width\x3d"100%"   src\x3d"'+b+'"/\x3e')})},render:function(){var a=this.state;return React.createElement("div",null,React.createElement("div",{className:"header"},React.createElement("hr",null)),React.createElement("div",{className:"am-g"},React.createElement("form",{id:"snsAnnouncementsForm",method:"post",className:"am-form"},React.createElement("input",{type:"hidden",name:"uuid",value:a.uuid}),React.createElement("input",{type:"hidden",name:"section_id",value:a.section_id}),React.createElement("label",{htmlFor:"name"},"\u6807\u9898:"),React.createElement("input",{type:"text",name:"title",id:"title",value:a.title,onChange:this.handleChange,maxLength:"128",placeholder:"\u4e0d\u8d85\u8fc7128\u4f4d"}),React.createElement("br",null),React.createElement(AMR_Input,{id:"announce_message",type:"textarea",rows:"10",label:"\u5185\u5bb9:",placeholder:"\u586b\u5199\u5185\u5bb9",name:"content",value:a.content,onChange:this.handleChange}),G_get_upload_img_Div(),React.createElement("button",{type:"button",onClick:PxSnsService.ajax_sns_save,className:"am-btn am-btn-primary"},"\u63d0\u4ea4"))))}}),Announcements_goodshow=React.createClass({displayName:"Announcements_goodshow",handleClick:function(a,b,c){btnclick_good_announce(a,b,c)},favorites_push:function(a,b,c,d){commons_ajax_favorites_push(a,b,c,d)},render:function(){var a=this.props.data,b="G_Edit_hide";this.props.canEdit&&(b="G_Edit_show");var c=null,c=a.url?React.createElement("iframe",{id:"t_iframe",onLoad:G_iFrameHeight.bind(this,"t_iframe"),frameborder:"0",scrolling:"auto",marginheight:"0",marginwidth:"0",width:"100%",height:"600px",src:a.url}):React.createElement(AMUIReact.Article,{title:a.title,meta:Vo.announce_type(a.type)+" | "+Store.getGroupNameByUuid(a.groupuuid)+" | "+a.create_time+"|\u9605\u8bfb"+this.props.count+"\u6b21"},React.createElement("div",{dangerouslySetInnerHTML:{__html:a.message}}));return React.createElement("div",null,c,React.createElement(AMR_ButtonToolbar,null,React.createElement(AMR_Button,{className:b,amStyle:"primary",onClick:this.handleClick.bind(this,"edit",a.groupuuid,a.uuid)},"\u7f16\u8f91"),React.createElement(AMR_Button,{className:b,amStyle:"danger",onClick:this.handleClick.bind(this,"del",a.groupuuid,a.uuid)},"\u5220\u9664"),React.createElement(AMR_Button,{amStyle:"success",onClick:this.favorites_push.bind(this,a.title,a.type,a.uuid)},"\u6536\u85cf"),React.createElement(AMR_Button,{className:G_CallPhoneFN.canShareUrl()?"":"am-hide",amStyle:"primary",onClick:G_CallPhoneFN.setShareContent.bind(this,a.title,a.title,null,this.props.share_url)},"\u5206\u4eab")),React.createElement("footer",{className:"am-comment-footer"},React.createElement("div",{className:"am-comment-actions"},React.createElement("a",{href:"javascript:void(0);"},React.createElement("i",{id:"btn_dianzan_"+a.uuid,className:"am-icon-thumbs-up px_font_size_click"})),React.createElement("a",{href:"javascript:void(0);",onClick:common_check_illegal.bind(this,3,a.uuid)},"\u4e3e\u62a5"))),React.createElement(Common_Dianzan_show_noAction,{uuid:a.uuid,type:0,btn_dianzan:"btn_dianzan_"+a.uuid}),React.createElement(Common_reply_list,{uuid:a.uuid,type:0}))}});