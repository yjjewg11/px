var Tabs=AMUIReact.Tabs,replyEditor=null,Sns_Div=React.createClass({displayName:"Sns_Div",load_more_btn_id:"load_more_",pageNo:1,classnewsreply_list_div:"am-list-news-bd",componentDidMount:function(){this.refresh_data()},load_more_data:function(){$("#"+this.classnewsreply_list_div).append("\x3cdiv id\x3d"+this.classnewsreply_list_div+this.pageNo+"\x3e\u52a0\u8f7d\u4e2d...\x3c/div\x3e");var a=this;PxSnsService.sns_snsTopic_list(this.classnewsreply_list_div+this.pageNo,this.pageNo,a.props.snsKey,function(b){b&&(b.data.length<b.pageSize?$("#"+a.load_more_btn_id).hide():$("#"+a.load_more_btn_id).show(),a.pageNo++)})},refresh_data:function(){this.forceUpdate();this.pageNo=1;$("#"+this.classnewsreply_list_div).html("");this.load_more_data()},handleClick:function(a){PxSnsService.btnclick_sns_snsTopic(a)},render:function(){this.classnewsreply_list_div="snstopicList_"+this.props.snsKey;this.load_more_btn_id="load_more_"+this.props.snsKey;var a=null;"undefined"==typeof SnsIndexPage&&(a=React.createElement(AMR_ButtonToolbar,null,React.createElement(AMR_Button,{amStyle:"secondary",onClick:this.handleClick.bind(this,"add")},"\u521b\u5efa\u8bdd\u9898")));return React.createElement("div",{"data-am-widget":"list_news",className:"am-list-news am-list-news-default"},a,React.createElement("div",{id:this.classnewsreply_list_div,className:"am-list-news-bd"}),React.createElement("div",{className:"am-list-news-ft"},React.createElement("a",{className:"am-list-news-more am-btn am-btn-default ",id:this.load_more_btn_id,onClick:this.load_more_data.bind(this)},"\u67e5\u770b\u66f4\u591a \u00bb")))}}),sns_list_snsTopic_rect=React.createClass({displayName:"sns_list_snsTopic_rect",render:function(){var a,b=hostUrlCDN+"i/fine.png",c=hostUrlCDN+"i/hot.png";return React.createElement("div",{"data-am-widget":"list_news",className:"am-list-news am-list-news-default"},React.createElement("div",{className:"am-list-news-bd"},React.createElement("ul",{className:"am-list"},this.props.events.data.map(function(d){d.imgList||(d.imgList=[]);a=d.imgList.length;return React.createElement("li",{className:"am-g am-list-item-dated",onClick:PxSnsService.ajax_sns_snsTopic_show.bind(this,d.uuid)},React.createElement(AMUIReact.Image,{className:2==d.level?"am-show":"am-hide",id:"img_head_image",src:b}),React.createElement(AMUIReact.Image,{className:1==d.level?"am-show":"am-hide",id:"img_head_image",src:c}),React.createElement("a",{href:"javascript:void(0);",className:"am-list-item-hd"},React.createElement("h4",null,d.title)),React.createElement("div",{className:"am-list-item-text"},React.createElement("h4",null,d.summary)),d.imgList.map(function(b){return React.createElement(AMUIReact.Image,{className:0==a?"am-hide":"am-show",id:"img_head_image",thumbnail:!0,width:"88",height:"88",src:b})}),React.createElement("div",{className:"am-list-item-text"},"\u4f5c\u8005\uff1a",d.create_user,"  |  \u6709",d.reply_count,"\u4eba\u56de\u590d  |   ",React.createElement("time",null,GTimeShow.getYMD(d.create_time))))}))))}}),Sns_snsTopic_add_edit=React.createClass({displayName:"Sns_snsTopic_add_edit",getInitialState:function(){return this.props.formdata},handleChange:function(a){this.setState($("#snsAnnouncementsForm").serializeJson())},componentDidMount:function(){var a=$("#announce_message").xheditor(xhEditor_upImgOption_mfull);this.editor=a;w_img_upload_nocut.bind_onchange("#file_img_upload",function(b){a.pasteHTML('\x3cimg width\x3d"100%" style\x3d"margin: 5px;"  src\x3d"'+b+'"/\x3e')})},preview_fn:function(){G_html_preview("t_iframe",this.state.url,this.editor.getSource(),this.state.title)},render:function(){var a=this.state;return React.createElement("div",null,React.createElement("div",{className:"header"},React.createElement("hr",null)),React.createElement("div",{className:"am-g"},React.createElement("div",{className:"am-u-lg-6 am-u-sm-12"},React.createElement("form",{id:"snsAnnouncementsForm",method:"post",className:"am-form"},React.createElement("input",{type:"hidden",name:"uuid",value:a.uuid}),React.createElement("input",{type:"hidden",name:"section_id",value:a.section_id}),React.createElement("label",{htmlFor:"name"},"\u6807\u9898:"),React.createElement("input",{type:"text",name:"title",id:"title",value:a.title,onChange:this.handleChange,maxLength:"128",placeholder:"\u4e0d\u8d85\u8fc7128\u4f4d"}),React.createElement("br",null),React.createElement(AMR_Input,{id:"announce_message",type:"textarea",rows:"10",label:"\u5185\u5bb9:",placeholder:"\u586b\u5199\u5185\u5bb9",name:"content",value:a.content,onChange:this.handleChange}),React.createElement(AMR_ButtonToolbar,null,G_get_upload_img_Div(),React.createElement("button",{type:"button",onClick:PxSnsService.ajax_sns_snsTopic_save,className:"am-btn am-btn-primary"},"\u63d0\u4ea4"),React.createElement("button",{type:"button",onClick:this.preview_fn.bind(this),className:"am-btn am-btn-primary"},"\u9884\u89c8")))),React.createElement("div",{className:"am-u-lg-6 am-u-sm-12 "},React.createElement(G_phone_iframe,null))))}}),sns_snsTopicshow=React.createClass({displayName:"sns_snsTopicshow",componentDidMount:function(){$("html,body").animate({scrollTop:0},200)},handleClick:function(a,b){PxSnsService.btnclick_sns_snsTopic(a,b)},render:function(){var a=this.props.data,b={title:a.title,content:a.content,uuid:a.uuid,status:this.props.dianZan,yes_count:a.yes_count,no_count:a.no_count,isFavor:this.props.isFavor},c="G_Edit_hide";this.props.canEdit&&(c="G_Edit_show");return React.createElement("div",null,React.createElement(AMUIReact.Article,{title:a.title,meta:GTimeShow.getYMD(a.create_time)+" | "+a.create_user+" | \u8d5e\u6210"+a.yes_count+" | \u53cd\u5bf9"+a.no_count+" | \u8bc4\u8bba"+a.reply_count+" | \u6d4f\u89c8"+this.props.count},React.createElement("div",{dangerouslySetInnerHTML:{__html:a.content}})),React.createElement(AMR_ButtonToolbar,null,React.createElement(AMR_Button,{className:c,amStyle:"primary",onClick:this.handleClick.bind(this,"edit",a.uuid)},"\u7f16\u8f91"),React.createElement(AMR_Button,{className:c,amStyle:"danger",onClick:this.handleClick.bind(this,"del",a.uuid)},"\u5220\u9664")),React.createElement(Sns_comment_actions,{data:b,url:this.props.share_url}),React.createElement(Sns_reply_list,{uuid:a.uuid,type:71,url:this.props.share_url}))}}),Sns_comment_actions=React.createClass({displayName:"Sns_comment_actions",getInitialState:function(){if(this.props.data)return this.props.data},callback_yes:function(a){a=this.state;1==a.status?(--a.yes_count,a.status=null):(a.yes_count+=1,a.status=1);this.setState(a)},yes_click:function(a){if(2!=a.status){var b=hostUrl+"rest/snsTopic/yes.json";1==a.status&&(b=hostUrl+"rest/snsTopic/cancelDianzan.json");PxSnsService.ajax_sns_dianzan(b,a.uuid,this.callback_yes)}},callback_no:function(){var a=this.state;2==a.status?(--a.no_count,a.status=null):(a.no_count+=1,a.status=2);this.setState(a)},no_click:function(a){if(1!=a.status){var b=hostUrl+"rest/snsTopic/no.json";2==a.status&&(b=hostUrl+"rest/snsTopic/cancelDianzan.json");PxSnsService.ajax_sns_dianzan(b,a.uuid,this.callback_no)}},favorites_push:function(a){if(0!=a.isFavor){var b=this.props.url;a.isFavor=!1;this.setState(a);commons_ajax_favorites_push(a.title,71,a.uuid,b)}},gogogo:function(){$("html,body").animate({scrollTop:$(document.body).height()},200);replyEditor&&replyEditor.focus()},render:function(){var a=this.state,b="",c="";1==a.status?(b="px-icon-hasdianzan",c=""):2==a.status&&(c="px-icon-hasdianzan",b="");return React.createElement("footer",{className:"am-comment-footer"},React.createElement("div",{className:"am-comment-actions am-cf"},React.createElement("a",{href:"javascript:void(0);",onClick:this.yes_click.bind(this,a)},React.createElement("i",{className:"am-icon-thumbs-up px_font_size_click "+b})),"\u8d5e\u6210",a.yes_count,"\u4eba",React.createElement("a",{href:"javascript:void(0);",onClick:this.no_click.bind(this,a)},React.createElement("i",{className:"am-icon-thumbs-down px_font_size_click "+c})),"\u53cd\u5bf9",a.no_count,"\u4eba",React.createElement("a",{href:"javascript:void(0);",onClick:this.favorites_push.bind(this,a)},React.createElement("i",{className:a.isFavor?"am-icon-heart px_font_size_click":"am-icon-heart px-icon-hasdianzan px_font_size_click"}),a.isFavor?"\u6536\u85cf":"\u5df2\u6536\u85cf"),React.createElement("a",{href:"javascript:void(0);",className:G_CallPhoneFN.canShareUrl()?"":"am-hide",onClick:G_CallPhoneFN.setShareContent.bind(this,a.title,a.content,null,this.props.url)},React.createElement("i",{className:"am-icon-share-alt-square px_font_size_click"}),"\u5206\u4eab"),React.createElement("a",{href:"javascript:void(0);",onClick:this.gogogo.bind()},React.createElement("i",{className:"am-icon-reply px_font_size_click"}),"\u8bc4\u8bba"),React.createElement("a",{href:"javascript:void(0);",className:"am-fr",onClick:common_check_illegal.bind(this,71,a.uuid)},React.createElement("i",{className:"am-icon-exclamation-circle px_font_size_click"}),"\u4e3e\u62a5"),React.createElement("legend",null)))}}),Sns_reply_list=React.createClass({displayName:"Sns_reply_list",load_more_btn_id:"load_more_",pageNo:1,classnewsreply_list_div:"classnewsreply_list_div",componentDidMount:function(){this.refreshReplyList()},load_more_data:function(){$("#"+this.classnewsreply_list_div).append("\x3cdiv id\x3d"+this.classnewsreply_list_div+this.pageNo+"\x3e\u52a0\u8f7d\u4e2d...\x3c/div\x3e");var a=PxSnsService.ajax_sns_reply_list(this.props.uuid,this.classnewsreply_list_div+this.pageNo,this.pageNo,this.props.type);a.data.length<a.pageSize?$("#"+this.load_more_btn_id).hide():$("#"+this.load_more_btn_id).show();this.pageNo++},refreshReplyList:function(){$("#"+this.classnewsreply_list_div).html("");this.pageNo=1;this.load_more_data()},render:function(){this.load_more_btn_id="load_more_"+this.props.uuid;this.classnewsreply_list_div="classnewsreply_list_div"+this.props.uuid;return React.createElement("div",null,React.createElement("div",{className:"am-comments-list",id:this.classnewsreply_list_div}),React.createElement("button",{id:this.load_more_btn_id,type:"button",onClick:this.load_more_data.bind(this),className:"am-btn am-btn-primary"},"\u52a0\u8f7d\u66f4\u591a"),React.createElement(Sns_ajax_reply_save,{uuid:this.props.uuid,type:this.props.type,parentThis:this}))}}),Sns_ajax_reply_save=React.createClass({displayName:"Sns_ajax_reply_save",classnewsreply_list_div:"classnewsreply_list_div",reply_save_btn_click:function(){var a=this.props.parentThis;PxSnsService.ajax_sns_reply_save(function(){a.refreshReplyList()})},componentDidMount:function(){replyEditor=$("#classnews_content_replay").xheditor(xhEditor_upImgOption_emot)},render:function(){var a=this.props.type;return React.createElement("form",{id:"snsClassnewsreplyForm",method:"post",className:"am-form",action:"javascript:void(0);"},React.createElement("input",{type:"hidden",name:"topic_uuid",value:this.props.uuid}),React.createElement("input",{type:"hidden",name:"type",value:a}),React.createElement(AMR_Input,{id:"classnews_content_replay",type:"textarea",rows:"4",label:"\u6211\u8981\u8bc4\u8bba",placeholder:"\u586b\u5199\u5185\u5bb9",name:"content"}),React.createElement("button",{type:"button",onClick:this.reply_save_btn_click.bind(this),className:"am-btn am-btn-primary"},"\u63d0\u4ea4"))}}),Sns_reply_list_show=React.createClass({displayName:"Sns_reply_list_show",render:function(){return React.createElement("div",null,this.props.events.data.map(function(a){a.create_img||(a.create_img=G_def_headImgPath);return React.createElement("article",{className:"am-comment am-comment-success am-margin-xs"},React.createElement("a",{href:"javascript:void(0);"},React.createElement("img",{src:a.create_img,className:"am-comment-avatar",width:"48",height:"48"})),React.createElement("div",{className:"am-comment-main "},React.createElement("header",{className:"am-comment-hd"},React.createElement("div",{className:"am-comment-meta"},React.createElement("a",{href:"#link-to-user",className:"am-comment-author"},"\u6765\u81ea",a.create_user,"\u7684\u56de\u590d"))),React.createElement("div",{className:"am-comment-bd  am-inline"},React.createElement("div",{dangerouslySetInnerHTML:{__html:a.content}})),React.createElement(Sns_snsReply_comment_actions,{data:a})))}))}}),Sns_snsReply_comment_actions=React.createClass({displayName:"Sns_snsReply_comment_actions",getInitialState:function(){if(this.props.data)return this.props.data},callback_yes:function(a){a=this.state;1==a.dianZan?(--a.yes_count,a.dianZan=null):(a.yes_count+=1,a.dianZan=1);this.setState(a)},yes_click:function(a){if(2!=a.dianZan){var b=hostUrl+"rest/snsReply/yes.json";1==a.dianZan&&(b=hostUrl+"rest/snsReply/cancelDianzan.json");PxSnsService.ajax_sns_dianzan(b,a.uuid,this.callback_yes)}},callback_no:function(){var a=this.state;2==a.dianZan?(--a.no_count,a.dianZan=null):(a.no_count+=1,a.dianZan=2);this.setState(a)},no_click:function(a){if(1!=a.dianZan){var b=hostUrl+"rest/snsReply/no.json";2==a.dianZan&&(b=hostUrl+"rest/snsReply/cancelDianzan.json");PxSnsService.ajax_sns_dianzan(b,a.uuid,this.callback_no)}},pinlun:function(a){React.render(React.createElement(Sns_reply_reply_list_div,{uuid:a.uuid,parentThis:this,type:72}),document.getElementById(this.div_reply_save_id))},render:function(){var a=this.state;this.div_reply_save_id="btn_reply_save"+a.uuid;var b="",c="";1==a.dianZan?(b="px-icon-hasdianzan",c=""):2==a.dianZan&&(c="px-icon-hasdianzan",b="");return React.createElement("footer",{className:"am-comment-footer"},React.createElement("div",{className:"am-comment-actions  am-cf"},React.createElement("time",null,GTimeShow.getYMD(a.create_time)),React.createElement("a",{href:"javascript:void(0);",onClick:this.yes_click.bind(this,a)},React.createElement("i",{className:"am-icon-thumbs-up px_font_size_click "+b})),a.yes_count,React.createElement("a",{href:"javascript:void(0);",onClick:this.no_click.bind(this,a)},React.createElement("i",{className:"am-icon-thumbs-down px_font_size_click "+c})),a.no_count,React.createElement("a",{href:"javascript:void(0);",onClick:this.pinlun.bind(this,a)},React.createElement("i",{id:"btn_reply_"+a.uuid,className:"am-icon-reply px_font_size_click"}),"\u56de\u590d",a.reply_count),React.createElement("div",{id:this.div_reply_save_id},"   "),React.createElement("a",{href:"javascript:void(0);",className:"am-fr",onClick:common_check_illegal.bind(this,72,a.uuid)},React.createElement("i",{className:"am-icon-exclamation-circle px_font_size_click"}),"\u4e3e\u62a5")))}}),Sns_reply_reply_list_div=React.createClass({displayName:"Sns_reply_reply_list_div",load_more_btn_id:"load_more_",pageNo:1,classnewsreply_list_div:"classnewsreply_list_div",componentDidMount:function(){this.refreshReplyList()},load_more_data:function(){$("#"+this.classnewsreply_list_div).append("\x3cdiv id\x3d"+this.classnewsreply_list_div+this.pageNo+"\x3e\u52a0\u8f7d\u4e2d...\x3c/div\x3e");var a=PxSnsService.ajax_sns_reply_list(this.props.uuid,this.classnewsreply_list_div+this.pageNo,this.pageNo,this.props.type);a.data.length<a.pageSize?$("#"+this.load_more_btn_id).hide():$("#"+this.load_more_btn_id).show();this.pageNo++},refreshReplyList:function(){$("#"+this.classnewsreply_list_div).html("");this.pageNo=1;this.load_more_data()},render:function(){this.load_more_btn_id="load_more_"+this.props.uuid;this.classnewsreply_list_div="classnewsreply_list_div"+this.props.uuid;return React.createElement("div",null,React.createElement("div",{id:this.classnewsreply_list_div}),React.createElement("button",{id:this.load_more_btn_id,type:"button",onClick:this.load_more_data.bind(this),className:"am-btn am-btn-primary"},"\u52a0\u8f7d\u66f4\u591a"),React.createElement(Sns_ajax_reply_save,{uuid:this.props.uuid,type:this.props.type,parentThis:this}))}}),Sns_ajax_reply_save=React.createClass({displayName:"Sns_ajax_reply_save",classnewsreply_list_div:"classnewsreply_list_div",reply_save_btn_click:function(){var a=this.props.parentThis;PxSnsService.ajax_sns_reply_save(function(){a.refreshReplyList()})},componentDidMount:function(){replyEditor=$("#classnews_content_replay").xheditor(xhEditor_upImgOption_emot)},render:function(){var a=this.props.type;return React.createElement("form",{id:"snsClassnewsreplyForm",method:"post",className:"am-form",action:"javascript:void(0);"},React.createElement("input",{type:"hidden",name:"topic_uuid",value:this.props.uuid}),React.createElement("input",{type:"hidden",name:"reply_uuid",value:this.props.uuid}),React.createElement("input",{type:"hidden",name:"type",value:a}),React.createElement(AMR_Input,{id:"classnews_content_replay",type:"textarea",rows:"4",label:"\u6211\u8981\u8bc4\u8bba",placeholder:"\u586b\u5199\u5185\u5bb9",name:"content"}),React.createElement("button",{type:"button",onClick:this.reply_save_btn_click.bind(this),className:"am-btn am-btn-primary"},"\u63d0\u4ea4"))}}),Sns_pinglun_list=React.createClass({displayName:"Sns_pinglun_list",render:function(){return React.createElement("div",null,this.props.events.data.map(function(a){return React.createElement("li",{className:"am-comment am-cf"},React.createElement("span",{className:"am-comment-author am-fl"},a.create_user+":"),React.createElement("span",{className:"am-fl",dangerouslySetInnerHTML:{__html:a.content}}),React.createElement(Sns_reply_reply_reply_actions,{data:a}))}))}}),Sns_reply_reply_reply_actions=React.createClass({displayName:"Sns_reply_reply_reply_actions",getInitialState:function(){if(this.props.data)return this.props.data},callback_yes:function(a){a=this.state;1==a.status?(--a.yes_count,a.status=null):(a.yes_count+=1,a.status=1);this.setState(a)},yes_click:function(a){if(2!=a.status){var b=hostUrl+"rest/snsReply/yes.json";1==a.status&&(b=hostUrl+"rest/snsReply/cancelDianzan.json");PxSnsService.ajax_sns_dianzan(b,a.uuid,this.callback_yes)}},callback_no:function(){var a=this.state;2==a.status?(--a.no_count,a.status=null):(a.no_count+=1,a.status=2);this.setState(a)},no_click:function(a){if(1!=a.status){var b=hostUrl+"rest/snsReply/no.json";2==a.status&&(b=hostUrl+"rest/snsReply/cancelDianzan.json");PxSnsService.ajax_sns_dianzan(b,a.uuid,this.callback_no)}},render:function(){var a=this.state,b="",c="";1==a.status?(b="px-icon-hasdianzan",c=""):2==a.status&&(c="px-icon-hasdianzan",b="");return React.createElement("footer",{className:"am-comment-footer"},React.createElement("div",{className:"am-comment-actions am-cf"},React.createElement("a",{href:"javascript:void(0);",onClick:this.yes_click.bind(this,a)},React.createElement("i",{className:"am-icon-thumbs-up px_font_size_click "+b})),a.yes_count,React.createElement("a",{href:"javascript:void(0);",onClick:this.no_click.bind(this,a)},React.createElement("i",{className:"am-icon-thumbs-down px_font_size_click "+c})),a.no_count,React.createElement("a",{href:"javascript:void(0);",className:"am-fr",onClick:common_check_illegal.bind(this,72,a.uuid)},React.createElement("i",{className:"am-icon-exclamation-circle px_font_size_click"}),"\u4e3e\u62a5"),React.createElement("legend",null)))}}),TabsSelect=React.createClass({displayName:"TabsSelect",getInitialState:function(){return{key:"1"}},componentDidMount:function(){this.loadSnsTopicList(this.state.key)},handleSelect:function(a){this.loadSnsTopicList(a)},loadSnsTopicList:function(a){var b;b="1"==a?"topiclist_div_1":"2"==a?"topiclist_div_2":"topiclist_div_3";React.render(React.createElement(Sns_Div,{snsKey:a}),document.getElementById(b))},render:function(){return React.createElement(Tabs,{defaultActiveKey:this.state.key,onSelect:this.handleSelect},React.createElement(Tabs.Item,{eventKey:"1",title:"\u6700\u65b0\u8bdd\u9898"},React.createElement("div",{id:"topiclist_div_1"})),React.createElement(Tabs.Item,{eventKey:"2",title:"\u70ed\u95e8\u8bdd\u9898"},React.createElement("div",{id:"topiclist_div_2"})),React.createElement(Tabs.Item,{eventKey:"3",title:"\u7cbe\u534e\u8bdd\u9898"},React.createElement("div",{id:"topiclist_div_3"})))}});