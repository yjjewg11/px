var AMUIReact_Table=AMUIReact.Table,AMUIReact_ButtonToolbar=AMUIReact.ButtonToolbar,AMUIReact_Button=AMUIReact.Button,ChooseClass_EventsTable=React.createClass({displayName:"ChooseClass_EventsTable",handleClick:function(a){this.props.handleClick&&"cancel"==a&&w_ch_class.handleClick.bind(a)},handleChange_selectgroup_uuid_chuser:function(a){w_ch_class.reshowBygroup(a)},render:function(){return React.createElement("div",null,React.createElement("div",{className:"header"},React.createElement("hr",null)),React.createElement("div",{className:"am-form-group"},React.createElement(AMUIReact.Selected,{id:"selectgroup_uuid_chuser",name:"group_uuid",onChange:this.handleChange_selectgroup_uuid_chuser,btnWidth:"200",multiple:!1,data:this.props.group_list,btnStyle:"primary",value:this.props.group_uuid?this.props.group_uuid:""})),React.createElement(AMUIReact_Table,React.__spread({},this.props),React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"\u73ed\u7ea7"),React.createElement("th",null,"\u5b66\u6821"))),React.createElement("tbody",null,this.props.events.map(function(a){return React.createElement(ChooseClass_EventRow,{event:a})}))))}}),ChooseClass_EventRow=React.createClass({displayName:"ChooseClass_EventRow",render:function(){var a=this.props.event;return React.createElement("tr",{className:a.highlight?"am-active":a.disabled?"am-disabled":"",onClick:w_ch_class.handleClick.bind(this,"choose",a.uuid)},React.createElement("td",null,a.name),React.createElement("td",null,Store.getGroupNameByUuid(a.groupuuid)))}}),ChooseCook_Widget=React.createClass({displayName:"ChooseCook_Widget",handleClick:function(a){if("cancel"==a)w_ch_cook.handleClick(a);else{var b=[];$($(".G_ch_cook_item_checked")).each(function(){var a={};a.uuid=this.title;a.img=this.children[0].src;a.name=this.children[1].title;b.push(a)});w_ch_cook.handleClick(a,b)}},render:function(){this.props.events||(this.props.events=[]);return React.createElement("div",null,React.createElement(AMUIReact_ButtonToolbar,null,React.createElement(AMUIReact_Button,{amStyle:"primary",onClick:this.handleClick.bind(this,"ok")},"\u786e\u8ba4"),React.createElement(AMUIReact_Button,{amStyle:"danger",onClick:this.handleClick.bind(this,"cancel")},"\u53d6\u6d88")),React.createElement(AMUIReact.Tabs,{defaultActiveKey:"1",justify:!0},React.createElement(AMUIReact.Tabs.Item,{eventKey:"1",title:"\u4e3b\u98df"},React.createElement(ChooseCook_EventRow,{type:1,checkeduuids:this.props.checkeduuids})),React.createElement(AMUIReact.Tabs.Item,{eventKey:"2",title:"\u6c64\u7ca5"},React.createElement(ChooseCook_EventRow,{type:2,checkeduuids:this.props.checkeduuids})),React.createElement(AMUIReact.Tabs.Item,{eventKey:"3",title:"\u7092\u83dc"},React.createElement(ChooseCook_EventRow,{type:3,checkeduuids:this.props.checkeduuids})),React.createElement(AMUIReact.Tabs.Item,{eventKey:"4",title:"\u6c34\u679c"},React.createElement(ChooseCook_EventRow,{type:4,checkeduuids:this.props.checkeduuids})),React.createElement(AMUIReact.Tabs.Item,{eventKey:"5",title:"\u5176\u4ed6"},React.createElement(ChooseCook_EventRow,{type:5,checkeduuids:this.props.checkeduuids}))))}}),ChooseCook_EventRow=React.createClass({displayName:"ChooseCook_EventRow",div_onClick:function(a){a=$("#"+a);0<=a.attr("class").indexOf("G_ch_cook_item_checked")?(a.removeClass("G_ch_cook_item_checked"),a.addClass("G_ch_cook_item")):(a.removeClass("G_ch_cook_item"),a.addClass("G_ch_cook_item_checked"))},callbackFN:function(){var a=this.props.type;this.ajax_chooseCook_list(a);a=Store.getChooseCook(a);this.setState({items:a})},getInitialState:function(){return{items:[]}},componentDidMount:function(){var a=this.props.type,b=Store.getChooseCook(a);b||(this.ajax_chooseCook_list(a),b=Store.getChooseCook(a));this.setState({items:b})},ajax_chooseCook_list:function(a){$.AMUI.progress.start();$.ajax({type:"GET",url:hostUrl+"rest/cookbook/list.json?type\x3d"+a,async:!1,data:"",dataType:"json",success:function(b){$.AMUI.progress.done();"success"==b.ResMsg.status?Store.setChooseCook(a,b.list):(alert(b.ResMsg.message),G_resMsg_filter(b.ResMsg))},error:G_ajax_error_fn})},render:function(){var a=this;return React.createElement("div",{id:"div_cook_"+this.props.type},this.state.items.map(function(b){var c=!1;a.props.checkeduuids&&(c=-1<a.props.checkeduuids.indexOf(b.uuid));return React.createElement("div",{id:"divCookItem_"+b.uuid,title:b.uuid,className:c?"G_ch_cook_item_checked":"G_ch_cook_item",onClick:a.div_onClick.bind(this,"divCookItem_"+b.uuid)},React.createElement("img",{src:G_imgPath+b.img,name:b.img,alt:"\u56fe\u7247\u4e0d\u5b58\u5728",title:b.name}),React.createElement("span",{title:b.name},b.name))}),React.createElement("div",{id:"divCookItem_add",className:"G_ch_cook_item",onClick:w_ch_cook.add_img.bind(this,a.props.type,a.callbackFN)},React.createElement("img",{src:hostUrl+"i/addCook.gif",alt:"\u672c\u5730\u4e0a\u4f20"})))}}),Upload_cookImg_options={thumbBox:".thumbBox",spinner:".spinner",imgSrc:""},Upload_cookImg=React.createClass({displayName:"Upload_cookImg",handleClick:function(a){w_ch_cookAddImg.handleClick(a)},upload_file_onChange:function(){var a=new FileReader;a.onload=function(a){Upload_cookImg_options.imgSrc=a.target.result;w_ch_cookAddImg.cropper=$("#upload_file_imageBox").cropbox(Upload_cookImg_options)};a.readAsDataURL(this.files[0]);this.files=[]},btnZoomIn_onClick:function(){w_ch_cookAddImg.cropper&&w_ch_cookAddImg.cropper.zoomIn()},btnZoomOut_onClick:function(){w_ch_cookAddImg.cropper&&w_ch_cookAddImg.cropper.zoomOut()},btnRotate_onClick:function(){w_ch_cookAddImg.cropper&&w_ch_cookAddImg.cropper.chRotate()},btnCrop_onClick:function(){var a=w_ch_cookAddImg.cropper.getDataURL();w_ch_cookAddImg.base64=a;$("#upload_file_imageBox_cropped").html('\x3cimg src\x3d"'+a+'"\x3e')},componentDidMount:function(){$("#upload_imgfile").on("change",function(){var a=new FileReader;a.onload=function(a){Upload_cookImg_options.imgSrc=a.target.result;w_ch_cookAddImg.cropper=$(".imageBox").cropbox(Upload_cookImg_options)};a.readAsDataURL(this.files[0]);this.files=[]})},render:function(){return React.createElement("div",null,React.createElement("div",{className:"header"},React.createElement("div",{className:"am-g"},React.createElement("h1",null,"\u4e0a\u4f20\u56fe\u7247")),React.createElement("hr",null)),React.createElement("div",{className:"container"},React.createElement("div",{className:"imageBox",id:"upload_file_imageBox"},React.createElement("div",{className:"thumbBox"}),React.createElement("div",{className:"spinner",style:{display:"none"}},"\u52a0\u8f7d\u4e2d...")),React.createElement("div",{className:"action"},React.createElement("input",{type:"file",id:"upload_imgfile",accept:"image/*"}),React.createElement(AMUIReact_Button,{amStyle:"warning",onClick:this.btnCrop_onClick},"\u526a\u5207"),React.createElement(AMUIReact_Button,{amStyle:"warning",onClick:this.btnZoomIn_onClick},"\u653e\u5927"),React.createElement(AMUIReact_Button,{amStyle:"warning",onClick:this.btnZoomOut_onClick},"\u7f29\u5c0f")),React.createElement("div",{className:"cropped",id:"upload_file_imageBox_cropped"})),React.createElement("label",{htmlFor:"cook_name"},"\u540d\u79f0:"),React.createElement("input",{type:"text",name:"cook_name",id:"cook_name",placeholder:""}),React.createElement("br",null),React.createElement(AMUIReact_ButtonToolbar,null,React.createElement(AMUIReact_Button,{amStyle:"primary",onClick:this.handleClick.bind(this,"ok")},"\u786e\u8ba4"),React.createElement(AMUIReact_Button,{amStyle:"danger",onClick:this.handleClick.bind(this,"cancel")},"\u53d6\u6d88")))}});